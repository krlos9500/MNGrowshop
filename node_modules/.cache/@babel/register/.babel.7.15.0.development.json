{
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\server.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\server.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nvar _userRouter = _interopRequireDefault(require(\"./routers/userRouter\"));\n\nvar _orderRouter = _interopRequireDefault(require(\"./routers/orderRouter\"));\n\nvar _productRouter = _interopRequireDefault(require(\"./routers/productRouter\"));\n\nvar _uploadRouter = _interopRequireDefault(require(\"./routers/uploadRouter\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_mongoose.default.connect(_config.default.MONGODB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true\n}).then(() => {\n  console.log('Connected to mongodb.');\n}).catch(error => {\n  console.log(error.reason);\n});\n\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_bodyParser.default.json());\napp.use('/api/uploads', _uploadRouter.default);\napp.use('/api/users', _userRouter.default);\napp.use('/api/products', _productRouter.default);\napp.use('/api/orders', _orderRouter.default);\napp.get('/api/paypal/clientId', (req, res) => {\n  res.send({\n    clientId: _config.default.PAYPAL_CLIENT_ID\n  });\n});\napp.use('/uploads', _express.default.static(_path.default.join(__dirname, '/../uploads')));\napp.use(_express.default.static(_path.default.join(__dirname, '/../frontend')));\napp.get('*', (req, res) => {\n  res.sendFile(_path.default.join(__dirname, '/../frontend/index.html'));\n});\napp.use((err, req, res, next) => {\n  const status = err.name && err.name === 'ValidationError' ? 400 : 500;\n  res.status(status).send({\n    message: err.message\n  });\n});\napp.listen(_config.default.PORT, () => {\n  console.log('serve at http://localhost:5000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsImNvbm5lY3QiLCJjb25maWciLCJNT05HT0RCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUNyZWF0ZUluZGV4IiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwicmVhc29uIiwiYXBwIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cGxvYWRSb3V0ZXIiLCJ1c2VyUm91dGVyIiwicHJvZHVjdFJvdXRlciIsIm9yZGVyUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsImNsaWVudElkIiwiUEFZUEFMX0NMSUVOVF9JRCIsImV4cHJlc3MiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInNlbmRGaWxlIiwiZXJyIiwibmV4dCIsInN0YXR1cyIsIm5hbWUiLCJtZXNzYWdlIiwibGlzdGVuIiwiUE9SVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBQSxrQkFDR0MsT0FESCxDQUNXQyxnQkFBT0MsV0FEbEIsRUFDK0I7QUFDM0JDLEVBQUFBLGVBQWUsRUFBRSxJQURVO0FBRTNCQyxFQUFBQSxrQkFBa0IsRUFBRSxJQUZPO0FBRzNCQyxFQUFBQSxjQUFjLEVBQUU7QUFIVyxDQUQvQixFQU1HQyxJQU5ILENBTVEsTUFBTTtBQUNWQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSx1QkFBWjtBQUNELENBUkgsRUFTR0MsS0FUSCxDQVNVQyxLQUFELElBQVc7QUFDaEJILEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxLQUFLLENBQUNDLE1BQWxCO0FBQ0QsQ0FYSDs7QUFZQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsb0JBQVI7QUFDQUQsR0FBRyxDQUFDQyxHQUFKLENBQVFDLG9CQUFXQyxJQUFYLEVBQVI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVEsY0FBUixFQUF3QkcscUJBQXhCO0FBQ0FKLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFlBQVIsRUFBc0JJLG1CQUF0QjtBQUNBTCxHQUFHLENBQUNDLEdBQUosQ0FBUSxlQUFSLEVBQXlCSyxzQkFBekI7QUFDQU4sR0FBRyxDQUFDQyxHQUFKLENBQVEsYUFBUixFQUF1Qk0sb0JBQXZCO0FBQ0FQLEdBQUcsQ0FBQ1EsR0FBSixDQUFRLHNCQUFSLEVBQWdDLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQzVDQSxFQUFBQSxHQUFHLENBQUNDLElBQUosQ0FBUztBQUFFQyxJQUFBQSxRQUFRLEVBQUV2QixnQkFBT3dCO0FBQW5CLEdBQVQ7QUFDRCxDQUZEO0FBR0FiLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFVBQVIsRUFBb0JhLGlCQUFRQyxNQUFSLENBQWVDLGNBQUtDLElBQUwsQ0FBVUMsU0FBVixFQUFxQixhQUFyQixDQUFmLENBQXBCO0FBQ0FsQixHQUFHLENBQUNDLEdBQUosQ0FBUWEsaUJBQVFDLE1BQVIsQ0FBZUMsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLGNBQXJCLENBQWYsQ0FBUjtBQUNBbEIsR0FBRyxDQUFDUSxHQUFKLENBQVEsR0FBUixFQUFhLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3pCQSxFQUFBQSxHQUFHLENBQUNTLFFBQUosQ0FBYUgsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLHlCQUFyQixDQUFiO0FBQ0QsQ0FGRDtBQUdBbEIsR0FBRyxDQUFDQyxHQUFKLENBQVEsQ0FBQ21CLEdBQUQsRUFBTVgsR0FBTixFQUFXQyxHQUFYLEVBQWdCVyxJQUFoQixLQUF5QjtBQUMvQixRQUFNQyxNQUFNLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSixJQUFZSCxHQUFHLENBQUNHLElBQUosS0FBYSxpQkFBekIsR0FBNkMsR0FBN0MsR0FBbUQsR0FBbEU7QUFDQWIsRUFBQUEsR0FBRyxDQUFDWSxNQUFKLENBQVdBLE1BQVgsRUFBbUJYLElBQW5CLENBQXdCO0FBQUVhLElBQUFBLE9BQU8sRUFBRUosR0FBRyxDQUFDSTtBQUFmLEdBQXhCO0FBQ0QsQ0FIRDtBQUlBeEIsR0FBRyxDQUFDeUIsTUFBSixDQUFXcEMsZ0JBQU9xQyxJQUFsQixFQUF3QixNQUFNO0FBQzVCL0IsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0NBQVo7QUFDRCxDQUZEIiwic291cmNlUm9vdCI6IkQ6XFxVc2Vyc1xcZ3VlcmlcXERvY3VtZW50c1xcLkJFU2VydmVyc1xcbm9kZS1qYXZhc2NyaXB0LWVjb21tZXJjZVxcYmFja2VuZFxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcclxuaW1wb3J0IHVzZXJSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL3VzZXJSb3V0ZXInO1xyXG5pbXBvcnQgb3JkZXJSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL29yZGVyUm91dGVyJztcclxuaW1wb3J0IHByb2R1Y3RSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL3Byb2R1Y3RSb3V0ZXInO1xyXG5pbXBvcnQgdXBsb2FkUm91dGVyIGZyb20gJy4vcm91dGVycy91cGxvYWRSb3V0ZXInO1xyXG5cclxubW9uZ29vc2VcclxuICAuY29ubmVjdChjb25maWcuTU9OR09EQl9VUkwsIHtcclxuICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcclxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcclxuICAgIHVzZUNyZWF0ZUluZGV4OiB0cnVlLFxyXG4gIH0pXHJcbiAgLnRoZW4oKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBtb25nb2RiLicpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IucmVhc29uKTtcclxuICB9KTtcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKCcvYXBpL3VwbG9hZHMnLCB1cGxvYWRSb3V0ZXIpO1xyXG5hcHAudXNlKCcvYXBpL3VzZXJzJywgdXNlclJvdXRlcik7XHJcbmFwcC51c2UoJy9hcGkvcHJvZHVjdHMnLCBwcm9kdWN0Um91dGVyKTtcclxuYXBwLnVzZSgnL2FwaS9vcmRlcnMnLCBvcmRlclJvdXRlcik7XHJcbmFwcC5nZXQoJy9hcGkvcGF5cGFsL2NsaWVudElkJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgcmVzLnNlbmQoeyBjbGllbnRJZDogY29uZmlnLlBBWVBBTF9DTElFTlRfSUQgfSk7XHJcbn0pO1xyXG5hcHAudXNlKCcvdXBsb2FkcycsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcvLi4vdXBsb2FkcycpKSk7XHJcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy8uLi9mcm9udGVuZCcpKSk7XHJcbmFwcC5nZXQoJyonLCAocmVxLCByZXMpID0+IHtcclxuICByZXMuc2VuZEZpbGUocGF0aC5qb2luKF9fZGlybmFtZSwgJy8uLi9mcm9udGVuZC9pbmRleC5odG1sJykpO1xyXG59KTtcclxuYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGNvbnN0IHN0YXR1cyA9IGVyci5uYW1lICYmIGVyci5uYW1lID09PSAnVmFsaWRhdGlvbkVycm9yJyA/IDQwMCA6IDUwMDtcclxuICByZXMuc3RhdHVzKHN0YXR1cykuc2VuZCh7IG1lc3NhZ2U6IGVyci5tZXNzYWdlIH0pO1xyXG59KTtcclxuYXBwLmxpc3Rlbihjb25maWcuUE9SVCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdzZXJ2ZSBhdCBodHRwOi8vbG9jYWxob3N0OjUwMDAnKTtcclxufSk7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "mongoose",
        "connect",
        "config",
        "MONGODB_URL",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useCreateIndex",
        "then",
        "console",
        "log",
        "catch",
        "error",
        "reason",
        "app",
        "use",
        "bodyParser",
        "json",
        "uploadRouter",
        "userRouter",
        "productRouter",
        "orderRouter",
        "get",
        "req",
        "res",
        "send",
        "clientId",
        "PAYPAL_CLIENT_ID",
        "express",
        "static",
        "path",
        "join",
        "__dirname",
        "sendFile",
        "err",
        "next",
        "status",
        "name",
        "message",
        "listen",
        "PORT"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEAA,kBACGC,OADH,CACWC,gBAAOC,WADlB,EAC+B;AAC3BC,EAAAA,eAAe,EAAE,IADU;AAE3BC,EAAAA,kBAAkB,EAAE,IAFO;AAG3BC,EAAAA,cAAc,EAAE;AAHW,CAD/B,EAMGC,IANH,CAMQ,MAAM;AACVC,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACD,CARH,EASGC,KATH,CASUC,KAAD,IAAW;AAChBH,EAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACC,MAAlB;AACD,CAXH;;AAYA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBG,qBAAxB;AACAJ,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBI,mBAAtB;AACAL,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyBK,sBAAzB;AACAN,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuBM,oBAAvB;AACAP,GAAG,CAACQ,GAAJ,CAAQ,sBAAR,EAAgC,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC5CA,EAAAA,GAAG,CAACC,IAAJ,CAAS;AAAEC,IAAAA,QAAQ,EAAEvB,gBAAOwB;AAAnB,GAAT;AACD,CAFD;AAGAb,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBa,iBAAQC,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,aAArB,CAAf,CAApB;AACAlB,GAAG,CAACC,GAAJ,CAAQa,iBAAQC,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,cAArB,CAAf,CAAR;AACAlB,GAAG,CAACQ,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACzBA,EAAAA,GAAG,CAACS,QAAJ,CAAaH,cAAKC,IAAL,CAAUC,SAAV,EAAqB,yBAArB,CAAb;AACD,CAFD;AAGAlB,GAAG,CAACC,GAAJ,CAAQ,CAACmB,GAAD,EAAMX,GAAN,EAAWC,GAAX,EAAgBW,IAAhB,KAAyB;AAC/B,QAAMC,MAAM,GAAGF,GAAG,CAACG,IAAJ,IAAYH,GAAG,CAACG,IAAJ,KAAa,iBAAzB,GAA6C,GAA7C,GAAmD,GAAlE;AACAb,EAAAA,GAAG,CAACY,MAAJ,CAAWA,MAAX,EAAmBX,IAAnB,CAAwB;AAAEa,IAAAA,OAAO,EAAEJ,GAAG,CAACI;AAAf,GAAxB;AACD,CAHD;AAIAxB,GAAG,CAACyB,MAAJ,CAAWpC,gBAAOqC,IAAlB,EAAwB,MAAM;AAC5B/B,EAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACD,CAFD",
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport cors from 'cors';\r\nimport mongoose from 'mongoose';\r\nimport bodyParser from 'body-parser';\r\nimport path from 'path';\r\nimport config from './config';\r\nimport userRouter from './routers/userRouter';\r\nimport orderRouter from './routers/orderRouter';\r\nimport productRouter from './routers/productRouter';\r\nimport uploadRouter from './routers/uploadRouter';\r\n\r\nmongoose\r\n  .connect(config.MONGODB_URL, {\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true,\r\n    useCreateIndex: true,\r\n  })\r\n  .then(() => {\r\n    console.log('Connected to mongodb.');\r\n  })\r\n  .catch((error) => {\r\n    console.log(error.reason);\r\n  });\r\nconst app = express();\r\napp.use(cors());\r\napp.use(bodyParser.json());\r\napp.use('/api/uploads', uploadRouter);\r\napp.use('/api/users', userRouter);\r\napp.use('/api/products', productRouter);\r\napp.use('/api/orders', orderRouter);\r\napp.get('/api/paypal/clientId', (req, res) => {\r\n  res.send({ clientId: config.PAYPAL_CLIENT_ID });\r\n});\r\napp.use('/uploads', express.static(path.join(__dirname, '/../uploads')));\r\napp.use(express.static(path.join(__dirname, '/../frontend')));\r\napp.get('*', (req, res) => {\r\n  res.sendFile(path.join(__dirname, '/../frontend/index.html'));\r\n});\r\napp.use((err, req, res, next) => {\r\n  const status = err.name && err.name === 'ValidationError' ? 400 : 500;\r\n  res.status(status).send({ message: err.message });\r\n});\r\napp.listen(config.PORT, () => {\r\n  console.log('serve at http://localhost:5000');\r\n});\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712312
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\config.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\config.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL,\n  JWT_SECRET: process.env.JWT_SECRET,\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsIlBBWVBBTF9DTElFTlRfSUQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBQSxnQkFBT0MsTUFBUDs7ZUFFZTtBQUNiQyxFQUFBQSxJQUFJLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixJQUFaLElBQW9CLElBRGI7QUFFYkcsRUFBQUEsV0FBVyxFQUFFRixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FGWjtBQUdiQyxFQUFBQSxVQUFVLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxVQUhYO0FBSWJDLEVBQUFBLGdCQUFnQixFQUFFSixPQUFPLENBQUNDLEdBQVIsQ0FBWUc7QUFKakIsQyIsInNvdXJjZVJvb3QiOiJEOlxcVXNlcnNcXGd1ZXJpXFxEb2N1bWVudHNcXC5CRVNlcnZlcnNcXG5vZGUtamF2YXNjcmlwdC1lY29tbWVyY2VcXGJhY2tlbmRcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBQT1JUOiBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDAsXHJcbiAgTU9OR09EQl9VUkw6IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMLFxyXG4gIEpXVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsXHJcbiAgUEFZUEFMX0NMSUVOVF9JRDogcHJvY2Vzcy5lbnYuUEFZUEFMX0NMSUVOVF9JRCxcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "dotenv",
        "config",
        "PORT",
        "process",
        "env",
        "MONGODB_URL",
        "JWT_SECRET",
        "PAYPAL_CLIENT_ID"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEAA,gBAAOC,MAAP;;eAEe;AACbC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IADb;AAEbG,EAAAA,WAAW,EAAEF,OAAO,CAACC,GAAR,CAAYC,WAFZ;AAGbC,EAAAA,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYE,UAHX;AAIbC,EAAAA,gBAAgB,EAAEJ,OAAO,CAACC,GAAR,CAAYG;AAJjB,C",
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "sourcesContent": [
        "import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n  PORT: process.env.PORT || 5000,\r\n  MONGODB_URL: process.env.MONGODB_URL,\r\n  JWT_SECRET: process.env.JWT_SECRET,\r\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID,\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712308
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\userRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\userRouter.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\userRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
        "sourceFileName": "userRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userRouter = _express.default.Router();\n\nuserRouter.get('/createadmin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'admin',\n      email: 'admin@example.com',\n      password: 'jsamazona',\n      isAdmin: true\n    });\n    const createdUser = await user.save();\n    res.send(createdUser);\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n}));\nuserRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (!signinUser) {\n    res.status(401).send({\n      message: 'Invalid Email or Password'\n    });\n  } else {\n    res.send({\n      _id: signinUser._id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _utils.generateToken)(signinUser)\n    });\n  }\n}));\nuserRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const createdUser = await user.save();\n\n  if (!createdUser) {\n    res.status(401).send({\n      message: 'Invalid User Data'\n    });\n  } else {\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      token: (0, _utils.generateToken)(createdUser)\n    });\n  }\n}));\nuserRouter.put('/:id', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (!user) {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  } else {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _utils.generateToken)(updatedUser)\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwibmFtZXMiOlsidXNlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJ1c2VyIiwiVXNlciIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiaXNBZG1pbiIsImNyZWF0ZWRVc2VyIiwic2F2ZSIsInNlbmQiLCJlcnIiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsInNpZ25pblVzZXIiLCJmaW5kT25lIiwiYm9keSIsIl9pZCIsInRva2VuIiwicHV0IiwiaXNBdXRoIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsInVwZGF0ZWRVc2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxVQUFVLEdBQUdDLGlCQUFRQyxNQUFSLEVBQW5COztBQUVBRixVQUFVLENBQUNHLEdBQVgsQ0FDRSxjQURGLEVBRUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxNQUFJO0FBQ0YsVUFBTUMsSUFBSSxHQUFHLElBQUlDLGtCQUFKLENBQVM7QUFDcEJDLE1BQUFBLElBQUksRUFBRSxPQURjO0FBRXBCQyxNQUFBQSxLQUFLLEVBQUUsbUJBRmE7QUFHcEJDLE1BQUFBLFFBQVEsRUFBRSxXQUhVO0FBSXBCQyxNQUFBQSxPQUFPLEVBQUU7QUFKVyxLQUFULENBQWI7QUFNQSxVQUFNQyxXQUFXLEdBQUcsTUFBTU4sSUFBSSxDQUFDTyxJQUFMLEVBQTFCO0FBQ0FSLElBQUFBLEdBQUcsQ0FBQ1MsSUFBSixDQUFTRixXQUFUO0FBQ0QsR0FURCxDQVNFLE9BQU9HLEdBQVAsRUFBWTtBQUNaVixJQUFBQSxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCRixJQUFoQixDQUFxQjtBQUFFRyxNQUFBQSxPQUFPLEVBQUVGLEdBQUcsQ0FBQ0U7QUFBZixLQUFyQjtBQUNEO0FBQ0YsQ0FiRCxDQUZGO0FBaUJBakIsVUFBVSxDQUFDa0Is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Q0FILElBQUFBLElBQUksQ0FBQ0ksUUFBTCxHQUFnQk4sR0FBRyxDQUFDaUIsSUFBSixDQUFTWCxRQUFULElBQXFCSixJQUFJLENBQUNJLFFBQTFDO0FBQ0EsVUFBTW1CLFdBQVcsR0FBRyxNQUFNdkIsSUFBSSxDQUFDTyxJQUFMLEVBQTFCO0FBQ0FSLElBQUFBLEdBQUcsQ0FBQ1MsSUFBSixDQUFTO0FBQ1BRLE1BQUFBLEdBQUcsRUFBRU8sV0FBVyxDQUFDUCxHQURWO0FBRVBkLE1BQUFBLElBQUksRUFBRXFCLFdBQVcsQ0FBQ3JCLElBRlg7QUFHUEMsTUFBQUEsS0FBSyxFQUFFb0IsV0FBVyxDQUFDcEIsS0FIWjtBQUlQRSxNQUFBQSxPQUFPLEVBQUVrQixXQUFXLENBQUNsQixPQUpkO0FBS1BZLE1BQUFBLEtBQUssRUFBRSwwQkFBY00sV0FBZDtBQUxBLEtBQVQ7QUFPRDtBQUNGLENBcEJELENBSEY7ZUF5QmU3QixVIiwic291cmNlUm9vdCI6IkQ6XFxVc2Vyc1xcZ3VlcmlcXERvY3VtZW50c1xcLkJFU2VydmVyc1xcbm9kZS1qYXZhc2NyaXB0LWVjb21tZXJjZVxcYmFja2VuZFxccm91dGVyc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XHJcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyTW9kZWwnO1xyXG5pbXBvcnQgeyBnZW5lcmF0ZVRva2VuLCBpc0F1dGggfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5jb25zdCB1c2VyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnVzZXJSb3V0ZXIuZ2V0KFxyXG4gICcvY3JlYXRlYWRtaW4nLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xyXG4gICAgICAgIG5hbWU6ICdhZG1pbicsXHJcbiAgICAgICAgZW1haWw6ICdhZG1pbkBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgcGFzc3dvcmQ6ICdqc2FtYXpvbmEnLFxyXG4gICAgICAgIGlzQWRtaW46IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBjcmVhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG4gICAgICByZXMuc2VuZChjcmVhdGVkVXNlcik7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBlcnIubWVzc2FnZSB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG51c2VyUm91dGVyLnBvc3QoXHJcbiAgJy9zaWduaW4nLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBzaWduaW5Vc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcclxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgICB9KTtcclxuICAgIGlmICghc2lnbmluVXNlcikge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XHJcbiAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgRW1haWwgb3IgUGFzc3dvcmQnLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IHNpZ25pblVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IHNpZ25pblVzZXIubmFtZSxcclxuICAgICAgICBlbWFpbDogc2lnbmluVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4oc2lnbmluVXNlciksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pXHJcbik7XHJcbnVzZXJSb3V0ZXIucG9zdChcclxuICAnL3JlZ2lzdGVyJyxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcclxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyZWF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICBpZiAoIWNyZWF0ZWRVc2VyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcclxuICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBVc2VyIERhdGEnLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IGNyZWF0ZWRVc2VyLl9pZCxcclxuICAgICAgICBuYW1lOiBjcmVhdGVkVXNlci5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiBjcmVhdGVkVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiBjcmVhdGVkVXNlci5pc0FkbWluLFxyXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKGNyZWF0ZWRVc2VyKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxudXNlclJvdXRlci5wdXQoXHJcbiAgJy86aWQnLFxyXG4gIGlzQXV0aCxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XHJcblxyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcclxuICAgICAgICBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHVzZXIubmFtZSA9IHJlcS5ib2R5Lm5hbWUgfHwgdXNlci5uYW1lO1xyXG4gICAgICB1c2VyLmVtYWlsID0gcmVxLmJvZHkuZW1haWwgfHwgdXNlci5lbWFpbDtcclxuICAgICAgdXNlci5wYXNzd29yZCA9IHJlcS5ib2R5LnBhc3N3b3JkIHx8IHVzZXIucGFzc3dvcmQ7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IHVwZGF0ZWRVc2VyLl9pZCxcclxuICAgICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiB1cGRhdGVkVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiB1cGRhdGVkVXNlci5pc0FkbWluLFxyXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHVwZGF0ZWRVc2VyKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "userRouter.js"
      ],
      "names": [
        "userRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "user",
        "User",
        "name",
        "email",
        "password",
        "isAdmin",
        "createdUser",
        "save",
        "send",
        "err",
        "status",
        "message",
        "post",
        "signinUser",
        "findOne",
        "body",
        "_id",
        "token",
        "put",
        "isAuth",
        "findById",
        "params",
        "id",
        "updatedUser"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport expressAsyncHandler from 'express-async-handler';\r\nimport User from '../models/userModel';\r\nimport { generateToken, isAuth } from '../utils';\r\n\r\nconst userRouter = express.Router();\r\n\r\nuserRouter.get(\r\n  '/createadmin',\r\n  expressAsyncHandler(async (req, res) => {\r\n    try {\r\n      const user = new User({\r\n        name: 'admin',\r\n        email: 'admin@example.com',\r\n        password: 'jsamazona',\r\n        isAdmin: true,\r\n      });\r\n      const createdUser = await user.save();\r\n      res.send(createdUser);\r\n    } catch (err) {\r\n      res.status(500).send({ message: err.message });\r\n    }\r\n  })\r\n);\r\nuserRouter.post(\r\n  '/signin',\r\n  expressAsyncHandler(async (req, res) => {\r\n    const signinUser = await User.findOne({\r\n      email: req.body.email,\r\n      password: req.body.password,\r\n    });\r\n    if (!signinUser) {\r\n      res.status(401).send({\r\n        message: 'Invalid Email or Password',\r\n      });\r\n    } else {\r\n      res.send({\r\n        _id: signinUser._id,\r\n        name: signinUser.name,\r\n        email: signinUser.email,\r\n        isAdmin: signinUser.isAdmin,\r\n        token: generateToken(signinUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nuserRouter.post(\r\n  '/register',\r\n  expressAsyncHandler(async (req, res) => {\r\n    const user = new User({\r\n      name: req.body.name,\r\n      email: req.body.email,\r\n      password: req.body.password,\r\n    });\r\n    const createdUser = await user.save();\r\n    if (!createdUser) {\r\n      res.status(401).send({\r\n        message: 'Invalid User Data',\r\n      });\r\n    } else {\r\n      res.send({\r\n        _id: createdUser._id,\r\n        name: createdUser.name,\r\n        email: createdUser.email,\r\n        isAdmin: createdUser.isAdmin,\r\n        token: generateToken(createdUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nuserRouter.put(\r\n  '/:id',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const user = await User.findById(req.params.id);\r\n\r\n    if (!user) {\r\n      res.status(404).send({\r\n        message: 'User Not Found',\r\n      });\r\n    } else {\r\n      user.name = req.body.name || user.name;\r\n      user.email = req.body.email || user.email;\r\n      user.password = req.body.password || user.password;\r\n      const updatedUser = await user.save();\r\n      res.send({\r\n        _id: updatedUser._id,\r\n        name: updatedUser.name,\r\n        email: updatedUser.email,\r\n        isAdmin: updatedUser.isAdmin,\r\n        token: generateToken(updatedUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nexport default userRouter;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712312
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\models\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\userModel.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\userModel.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\userModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
        "sourceFileName": "userModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    index: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\n\nconst User = _mongoose.default.model('User', userSchema);\n\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJpbmRleCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiaXNBZG1pbiIsIkJvb2xlYW4iLCJkZWZhdWx0IiwiVXNlciIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDckNDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUQrQjtBQUVyQ0MsRUFBQUEsS0FBSyxFQUFFO0FBQ0xILElBQUFBLElBQUksRUFBRUMsTUFERDtBQUVMQyxJQUFBQSxRQUFRLEVBQUUsSUFGTDtBQUdMRSxJQUFBQSxLQUFLLEVBQUUsSUFIRjtBQUlMQyxJQUFBQSxNQUFNLEVBQUU7QUFKSCxHQUY4QjtBQVFyQ0MsRUFBQUEsUUFBUSxFQUFFO0FBQUVOLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUjJCO0FBU3JDSyxFQUFBQSxPQUFPLEVBQUU7QUFBRVAsSUFBQUEsSUFBSSxFQUFFUSxPQUFSO0FBQWlCTixJQUFBQSxRQUFRLEVBQUUsSUFBM0I7QUFBaUNPLElBQUFBLE9BQU8sRUFBRTtBQUExQztBQVQ0QixDQUFwQixDQUFuQjs7QUFXQSxNQUFNQyxJQUFJLEdBQUdiLGtCQUFTYyxLQUFULENBQWUsTUFBZixFQUF1QmYsVUFBdkIsQ0FBYjs7ZUFDZWMsSSIsInNvdXJjZVJvb3QiOiJEOlxcVXNlcnNcXGd1ZXJpXFxEb2N1bWVudHNcXC5CRVNlcnZlcnNcXG5vZGUtamF2YXNjcmlwdC1lY29tbWVyY2VcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBlbWFpbDoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICBpbmRleDogdHJ1ZSxcclxuICAgIHVuaXF1ZTogdHJ1ZSxcclxuICB9LFxyXG4gIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBpc0FkbWluOiB7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG59KTtcclxuY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgdXNlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFVzZXI7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userModel.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "index",
        "unique",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "User",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD+B;AAErCC,EAAAA,KAAK,EAAE;AACLH,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE,IAFL;AAGLE,IAAAA,KAAK,EAAE,IAHF;AAILC,IAAAA,MAAM,EAAE;AAJH,GAF8B;AAQrCC,EAAAA,QAAQ,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAR2B;AASrCK,EAAAA,OAAO,EAAE;AAAEP,IAAAA,IAAI,EAAEQ,OAAR;AAAiBN,IAAAA,QAAQ,EAAE,IAA3B;AAAiCO,IAAAA,OAAO,EAAE;AAA1C;AAT4B,CAApB,CAAnB;;AAWA,MAAMC,IAAI,GAAGb,kBAASc,KAAT,CAAe,MAAf,EAAuBf,UAAvB,CAAb;;eACec,I",
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\n\r\nconst userSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  email: {\r\n    type: String,\r\n    required: true,\r\n    index: true,\r\n    unique: true,\r\n  },\r\n  password: { type: String, required: true },\r\n  isAdmin: { type: Boolean, required: true, default: false },\r\n});\r\nconst User = mongoose.model('User', userSchema);\r\nexport default User;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712310
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\utils.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\utils.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAdmin = exports.isAuth = exports.generateToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET);\n};\n\nexports.generateToken = generateToken;\n\nconst isAuth = (req, res, next) => {\n  const bearerToken = req.headers.authorization;\n\n  if (!bearerToken) {\n    res.status(401).send({\n      message: 'Token is not supplied'\n    });\n  } else {\n    const token = bearerToken.slice(7, bearerToken.length);\n\n    _jsonwebtoken.default.verify(token, _config.default.JWT_SECRET, (err, data) => {\n      if (err) {\n        res.status(401).send({\n          message: 'Invalid Token'\n        });\n      } else {\n        req.user = data;\n        next();\n      }\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Token is not valid for admin user'\n    });\n  }\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImdlbmVyYXRlVG9rZW4iLCJ1c2VyIiwiand0Iiwic2lnbiIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJjb25maWciLCJKV1RfU0VDUkVUIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsImJlYXJlclRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInRva2VuIiwic2xpY2UiLCJsZW5ndGgiLCJ2ZXJpZnkiLCJlcnIiLCJkYXRhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFTyxNQUFNQSxhQUFhLEdBQUlDLElBQUQsSUFBVTtBQUNyQyxTQUFPQyxzQkFBSUMsSUFBSixDQUNMO0FBQ0VDLElBQUFBLEdBQUcsRUFBRUgsSUFBSSxDQUFDRyxHQURaO0FBRUVDLElBQUFBLElBQUksRUFBRUosSUFBSSxDQUFDSSxJQUZiO0FBR0VDLElBQUFBLEtBQUssRUFBRUwsSUFBSSxDQUFDSyxLQUhkO0FBSUVDLElBQUFBLE9BQU8sRUFBRU4sSUFBSSxDQUFDTTtBQUpoQixHQURLLEVBT0xDLGdCQUFPQyxVQVBGLENBQVA7QUFTRCxDQVZNOzs7O0FBV0EsTUFBTUMsTUFBTSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3hDLFFBQU1DLFdBQVcsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVlDLGFBQWhDOztBQUNBLE1BQUksQ0FBQ0YsV0FBTCxFQUFrQjtBQUNoQkYsSUFBQUEsR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRCxHQUZELE1BRU87QUFDTCxVQUFNQyxLQUFLLEdBQUdOLFdBQVcsQ0FBQ08sS0FBWixDQUFrQixDQUFsQixFQUFxQlAsV0FBVyxDQUFDUSxNQUFqQyxDQUFkOztBQUNBcEIsMEJBQUlxQixNQUFKLENBQVdILEtBQVgsRUFBa0JaLGdCQUFPQyxVQUF6QixFQUFxQyxDQUFDZSxHQUFELEVBQU1DLElBQU4sS0FBZTtBQUNsRCxVQUFJRCxHQUFKLEVBQVM7QUFDUFosUUFBQUEsR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsVUFBQUEsT0FBTyxFQUFFO0FBQVgsU0FBckI7QUFDRCxPQUZELE1BRU87QUFDTFIsUUFBQUEsR0FBRyxDQUFDVixJQUFKLEdBQVd3QixJQUFYO0FBQ0FaLFFBQUFBLElBQUk7QUFDTDtBQUNGLEtBUEQ7QUFRRDtBQUNGLENBZk07Ozs7QUFnQkEsTUFBTU4sT0FBTyxHQUFHLENBQUNJLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3pDLE1BQUlGLEdBQUcsQ0FBQ1YsSUFBSixJQUFZVSxHQUFHLENBQUNWLElBQUosQ0FBU00sT0FBekIsRUFBa0M7QUFDaENNLElBQUFBLElBQUk7QUFDTCxHQUZELE1BRU87QUFDTEQsSUFBQUEsR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBTk0iLCJzb3VyY2VSb290IjoiRDpcXFVzZXJzXFxndWVyaVxcRG9jdW1lbnRzXFwuQkVTZXJ2ZXJzXFxub2RlLWphdmFzY3JpcHQtZWNvbW1lcmNlXFxiYWNrZW5kXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlVG9rZW4gPSAodXNlcikgPT4ge1xyXG4gIHJldHVybiBqd3Quc2lnbihcclxuICAgIHtcclxuICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgbmFtZTogdXNlci5uYW1lLFxyXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgaXNBZG1pbjogdXNlci5pc0FkbWluLFxyXG4gICAgfSxcclxuICAgIGNvbmZpZy5KV1RfU0VDUkVUXHJcbiAgKTtcclxufTtcclxuZXhwb3J0IGNvbnN0IGlzQXV0aCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGNvbnN0IGJlYXJlclRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbjtcclxuICBpZiAoIWJlYXJlclRva2VuKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdUb2tlbiBpcyBub3Qgc3VwcGxpZWQnIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCB0b2tlbiA9IGJlYXJlclRva2VuLnNsaWNlKDcsIGJlYXJlclRva2VuLmxlbmd0aCk7XHJcbiAgICBqd3QudmVyaWZ5KHRva2VuLCBjb25maWcuSldUX1NFQ1JFVCwgKGVyciwgZGF0YSkgPT4ge1xyXG4gICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBUb2tlbicgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVxLnVzZXIgPSBkYXRhO1xyXG4gICAgICAgIG5leHQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgY29uc3QgaXNBZG1pbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XHJcbiAgICBuZXh0KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ1Rva2VuIGlzIG5vdCB2YWxpZCBmb3IgYWRtaW4gdXNlcicgfSk7XHJcbiAgfVxyXG59O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "generateToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "config",
        "JWT_SECRET",
        "isAuth",
        "req",
        "res",
        "next",
        "bearerToken",
        "headers",
        "authorization",
        "status",
        "send",
        "message",
        "token",
        "slice",
        "length",
        "verify",
        "err",
        "data"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,aAAa,GAAIC,IAAD,IAAU;AACrC,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADZ;AAEEC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFb;AAGEC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHd;AAIEC,IAAAA,OAAO,EAAEN,IAAI,CAACM;AAJhB,GADK,EAOLC,gBAAOC,UAPF,CAAP;AASD,CAVM;;;;AAWA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACxC,QAAMC,WAAW,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAhC;;AACA,MAAI,CAACF,WAAL,EAAkB;AAChBF,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD,GAFD,MAEO;AACL,UAAMC,KAAK,GAAGN,WAAW,CAACO,KAAZ,CAAkB,CAAlB,EAAqBP,WAAW,CAACQ,MAAjC,CAAd;;AACApB,0BAAIqB,MAAJ,CAAWH,KAAX,EAAkBZ,gBAAOC,UAAzB,EAAqC,CAACe,GAAD,EAAMC,IAAN,KAAe;AAClD,UAAID,GAAJ,EAAS;AACPZ,QAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB;AACD,OAFD,MAEO;AACLR,QAAAA,GAAG,CAACV,IAAJ,GAAWwB,IAAX;AACAZ,QAAAA,IAAI;AACL;AACF,KAPD;AAQD;AACF,CAfM;;;;AAgBA,MAAMN,OAAO,GAAG,CAACI,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzC,MAAIF,GAAG,CAACV,IAAJ,IAAYU,GAAG,CAACV,IAAJ,CAASM,OAAzB,EAAkC;AAChCM,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM",
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\r\nimport config from './config';\r\n\r\nexport const generateToken = (user) => {\r\n  return jwt.sign(\r\n    {\r\n      _id: user._id,\r\n      name: user.name,\r\n      email: user.email,\r\n      isAdmin: user.isAdmin,\r\n    },\r\n    config.JWT_SECRET\r\n  );\r\n};\r\nexport const isAuth = (req, res, next) => {\r\n  const bearerToken = req.headers.authorization;\r\n  if (!bearerToken) {\r\n    res.status(401).send({ message: 'Token is not supplied' });\r\n  } else {\r\n    const token = bearerToken.slice(7, bearerToken.length);\r\n    jwt.verify(token, config.JWT_SECRET, (err, data) => {\r\n      if (err) {\r\n        res.status(401).send({ message: 'Invalid Token' });\r\n      } else {\r\n        req.user = data;\r\n        next();\r\n      }\r\n    });\r\n  }\r\n};\r\nexport const isAdmin = (req, res, next) => {\r\n  if (req.user && req.user.isAdmin) {\r\n    next();\r\n  } else {\r\n    res.status(401).send({ message: 'Token is not valid for admin user' });\r\n  }\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712312
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\orderRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\orderRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\orderRouter.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\orderRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
        "sourceFileName": "orderRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utils = require(\"../utils\");\n\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router();\n\norderRouter.get('/summary', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numOrders: {\n        $sum: 1\n      },\n      totalSales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const users = await _userModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numUsers: {\n        $sum: 1\n      }\n    }\n  }]);\n  const dailyOrders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: {\n        $dateToString: {\n          format: '%Y-%m-%d',\n          date: '$createdAt'\n        }\n      },\n      orders: {\n        $sum: 1\n      },\n      sales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const productCategories = await _productModel.default.aggregate([{\n    $group: {\n      _id: '$category',\n      count: {\n        $sum: 1\n      }\n    }\n  }]);\n  res.send({\n    users,\n    orders: orders.length === 0 ? [{\n      numOrders: 0,\n      totalSales: 0\n    }] : orders,\n    dailyOrders,\n    productCategories\n  });\n}));\norderRouter.get('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n}));\norderRouter.get('/mine', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.get('/:id', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.post('/', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const createdOrder = await order.save();\n  res.status(201).send({\n    message: 'New Order Created',\n    order: createdOrder\n  });\n}));\norderRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send({\n      message: 'Order Deleted',\n      product: deletedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put('/:id/pay', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment.paymentResult = {\n      payerID: req.body.payerID,\n      paymentID: req.body.paymentID,\n      orderID: req.body.orderID\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found.'\n    });\n  }\n}));\norderRouter.put('/:id/deliver', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isDelivered = true;\n    order.deliveredAt = Date.now();\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Delivered',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found.'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVyLmpzIl0sIm5hbWVzIjpbIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsImlzQWRtaW4iLCJyZXEiLCJyZXMiLCJvcmRlcnMiLCJPcmRlciIsImFnZ3JlZ2F0ZSIsIiRncm91cCIsIl9pZCIsIm51bU9yZGVycyIsIiRzdW0iLCJ0b3RhbFNhbGVzIiwidXNlcnMiLCJVc2VyIiwibnVtVXNlcnMiLCJkYWlseU9yZGVycyIsIiRkYXRlVG9TdHJpbmciLCJmb3JtYXQiLCJkYXRlIiwic2FsZXMiLCJwcm9kdWN0Q2F0ZWdvcmllcyIsIlByb2R1Y3QiLCJjb3VudCIsInNlbmQiLCJsZW5ndGgiLCJmaW5kIiwicG9wdWxhdGUiLCJ1c2VyIiwib3JkZXIiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJvcmRlckl0ZW1zIiwiYm9keSIsInNoaXBwaW5nIiwicGF5bWVudCIsIml0ZW1zUHJpY2UiLCJ0YXhQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0b3RhbFByaWNlIiwiY3JlYXRlZE9yZGVyIiwic2F2ZSIsImRlbGV0ZSIsImRlbGV0ZWRPcmRlciIsInJlbW92ZSIsInByb2R1Y3QiLCJwdXQiLCJpc1BhaWQiLCJwYWlkQXQiLCJEYXRlIiwibm93IiwicGF5bWVudFJlc3VsdCIsInBheWVySUQiLCJwYXltZW50SUQiLCJvcmRlcklEIiwidXBkYXRlZE9yZGVyIiwiaXNEZWxpdmVyZWQiLCJkZWxpdmVyZWRBdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsV0FBVyxHQUFHQyxpQkFBUUMsTUFBUixFQUFwQjs7QUFDQUYsV0FBVyxDQUFDRyxHQUFaLENBQ0UsVUFERixFQUVFQyxhQUZGLEVBR0VDLGNBSEYsRUFJRSxrQ0FBb0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RD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QWdCVCxJQUFoQixDQUFxQjtBQUFFVSxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FWRCxDQUhGO2VBZ0JlckMsVyIsInNvdXJjZVJvb3QiOiJEOlxcVXNlcnNcXGd1ZXJpXFxEb2N1bWVudHNcXC5CRVNlcnZlcnNcXG5vZGUtamF2YXNjcmlwdC1lY29tbWVyY2VcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xyXG5pbXBvcnQgeyBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tICcuLi91dGlscyc7XHJcbmltcG9ydCBPcmRlciBmcm9tICcuLi9tb2RlbHMvb3JkZXJNb2RlbCc7XHJcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyTW9kZWwnO1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdE1vZGVsJztcclxuXHJcbmNvbnN0IG9yZGVyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxub3JkZXJSb3V0ZXIuZ2V0KFxyXG4gICcvc3VtbWFyeScsXHJcbiAgaXNBdXRoLFxyXG4gIGlzQWRtaW4sXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmFnZ3JlZ2F0ZShbXHJcbiAgICAgIHtcclxuICAgICAgICAkZ3JvdXA6IHtcclxuICAgICAgICAgIF9pZDogbnVsbCxcclxuICAgICAgICAgIG51bU9yZGVyczogeyAkc3VtOiAxIH0sXHJcbiAgICAgICAgICB0b3RhbFNhbGVzOiB7ICRzdW06ICckdG90YWxQcmljZScgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgXSk7XHJcbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IFVzZXIuYWdncmVnYXRlKFtcclxuICAgICAge1xyXG4gICAgICAgICRncm91cDoge1xyXG4gICAgICAgICAgX2lkOiBudWxsLFxyXG4gICAgICAgICAgbnVtVXNlcnM6IHsgJHN1bTogMSB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdKTtcclxuICAgIGNvbnN0IGRhaWx5T3JkZXJzID0gYXdhaXQgT3JkZXIuYWdncmVnYXRlKFtcclxuICAgICAge1xyXG4gICAgICAgICRncm91cDoge1xyXG4gICAgICAgICAgX2lkOiB7ICRkYXRlVG9TdHJpbmc6IHsgZm9ybWF0OiAnJVktJW0tJWQnLCBkYXRlOiAnJGNyZWF0ZWRBdCcgfSB9LFxyXG4gICAgICAgICAgb3JkZXJzOiB7ICRzdW06IDEgfSxcclxuICAgICAgICAgIHNhbGVzOiB7ICRzdW06ICckdG90YWxQcmljZScgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgXSk7XHJcbiAgICBjb25zdCBwcm9kdWN0Q2F0ZWdvcmllcyA9IGF3YWl0IFByb2R1Y3QuYWdncmVnYXRlKFtcclxuICAgICAge1xyXG4gICAgICAgICRncm91cDoge1xyXG4gICAgICAgICAgX2lkOiAnJGNhdGVnb3J5JyxcclxuICAgICAgICAgIGNvdW50OiB7ICRzdW06IDEgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgXSk7XHJcbiAgICByZXMuc2VuZCh7XHJcbiAgICAgIHVzZXJzLFxyXG4gICAgICBvcmRlcnM6IG9yZGVycy5sZW5ndGggPT09IDAgPyBbeyBudW1PcmRlcnM6IDAsIHRvdGFsU2FsZXM6IDAgfV0gOiBvcmRlcnMsXHJcbiAgICAgIGRhaWx5T3JkZXJzLFxyXG4gICAgICBwcm9kdWN0Q2F0ZWdvcmllcyxcclxuICAgIH0pO1xyXG4gIH0pXHJcbik7XHJcbm9yZGVyUm91dGVyLmdldChcclxuICAnLycsXHJcbiAgaXNBdXRoLFxyXG4gIGlzQWRtaW4sXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoe30pLnBvcHVsYXRlKCd1c2VyJyk7XHJcbiAgICByZXMuc2VuZChvcmRlcnMpO1xyXG4gIH0pXHJcbik7XHJcblxyXG5vcmRlclJvdXRlci5nZXQoXHJcbiAgJy9taW5lJyxcclxuICBpc0F1dGgsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoeyB1c2VyOiByZXEudXNlci5faWQgfSk7XHJcbiAgICByZXMuc2VuZChvcmRlcnMpO1xyXG4gIH0pXHJcbik7XHJcbm9yZGVyUm91dGVyLmdldChcclxuICAnLzppZCcsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKG9yZGVyKSB7XHJcbiAgICAgIHJlcy5zZW5kKG9yZGVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIE5vdCBGb3VuZCcgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxub3JkZXJSb3V0ZXIucG9zdChcclxuICAnLycsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlciA9IG5ldyBPcmRlcih7XHJcbiAgICAgIG9yZGVySXRlbXM6IHJlcS5ib2R5Lm9yZGVySXRlbXMsXHJcbiAgICAgIHVzZXI6IHJlcS51c2VyLl9pZCxcclxuICAgICAgc2hpcHBpbmc6IHJlcS5ib2R5LnNoaXBwaW5nLFxyXG4gICAgICBwYXltZW50OiByZXEuYm9keS5wYXltZW50LFxyXG4gICAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxyXG4gICAgICB0YXhQcmljZTogcmVxLmJvZHkudGF4UHJpY2UsXHJcbiAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXHJcbiAgICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyZWF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcclxuICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgbWVzc2FnZTogJ05ldyBPcmRlciBDcmVhdGVkJywgb3JkZXI6IGNyZWF0ZWRPcmRlciB9KTtcclxuICB9KVxyXG4pO1xyXG5vcmRlclJvdXRlci5kZWxldGUoXHJcbiAgJy86aWQnLFxyXG4gIGlzQXV0aCxcclxuICBpc0FkbWluLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKG9yZGVyKSB7XHJcbiAgICAgIGNvbnN0IGRlbGV0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnJlbW92ZSgpO1xyXG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBEZWxldGVkJywgcHJvZHVjdDogZGVsZXRlZE9yZGVyIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJyB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxub3JkZXJSb3V0ZXIucHV0KFxyXG4gICcvOmlkL3BheScsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKG9yZGVyKSB7XHJcbiAgICAgIG9yZGVyLmlzUGFpZCA9IHRydWU7XHJcbiAgICAgIG9yZGVyLnBhaWRBdCA9IERhdGUubm93KCk7XHJcbiAgICAgIG9yZGVyLnBheW1lbnQucGF5bWVudFJlc3VsdCA9IHtcclxuICAgICAgICBwYXllcklEOiByZXEuYm9keS5wYXllcklELFxyXG4gICAgICAgIHBheW1lbnRJRDogcmVxLmJvZHkucGF5bWVudElELFxyXG4gICAgICAgIG9yZGVySUQ6IHJlcS5ib2R5Lm9yZGVySUQsXHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcclxuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgUGFpZCcsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQuJyB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxub3JkZXJSb3V0ZXIucHV0KFxyXG4gICcvOmlkL2RlbGl2ZXInLFxyXG4gIGlzQXV0aCxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChvcmRlcikge1xyXG4gICAgICBvcmRlci5pc0RlbGl2ZXJlZCA9IHRydWU7XHJcbiAgICAgIG9yZGVyLmRlbGl2ZXJlZEF0ID0gRGF0ZS5ub3coKTtcclxuICAgICAgY29uc3QgdXBkYXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuc2F2ZSgpO1xyXG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBEZWxpdmVyZWQnLCBvcmRlcjogdXBkYXRlZE9yZGVyIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kLicgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG9yZGVyUm91dGVyO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "orderRouter.js"
      ],
      "names": [
        "orderRouter",
        "express",
        "Router",
        "get",
        "isAuth",
        "isAdmin",
        "req",
        "res",
        "orders",
        "Order",
        "aggregate",
        "$group",
        "_id",
        "numOrders",
        "$sum",
        "totalSales",
        "users",
        "User",
        "numUsers",
        "dailyOrders",
        "$dateToString",
        "format",
        "date",
        "sales",
        "productCategories",
        "Product",
        "count",
        "send",
        "length",
        "find",
        "populate",
        "user",
        "order",
        "findById",
        "params",
        "id",
        "status",
        "message",
        "post",
        "orderItems",
        "body",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "createdOrder",
        "save",
        "delete",
        "deletedOrder",
        "remove",
        "product",
        "put",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentResult",
        "payerID",
        "paymentID",
        "orderID",
        "updatedOrder",
        "isDelivered",
        "deliveredAt"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport expressAsyncHandler from 'express-async-handler';\r\nimport { isAuth, isAdmin } from '../utils';\r\nimport Order from '../models/orderModel';\r\nimport User from '../models/userModel';\r\nimport Product from '../models/productModel';\r\n\r\nconst orderRouter = express.Router();\r\norderRouter.get(\r\n  '/summary',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const orders = await Order.aggregate([\r\n      {\r\n        $group: {\r\n          _id: null,\r\n          numOrders: { $sum: 1 },\r\n          totalSales: { $sum: '$totalPrice' },\r\n        },\r\n      },\r\n    ]);\r\n    const users = await User.aggregate([\r\n      {\r\n        $group: {\r\n          _id: null,\r\n          numUsers: { $sum: 1 },\r\n        },\r\n      },\r\n    ]);\r\n    const dailyOrders = await Order.aggregate([\r\n      {\r\n        $group: {\r\n          _id: { $dateToString: { format: '%Y-%m-%d', date: '$createdAt' } },\r\n          orders: { $sum: 1 },\r\n          sales: { $sum: '$totalPrice' },\r\n        },\r\n      },\r\n    ]);\r\n    const productCategories = await Product.aggregate([\r\n      {\r\n        $group: {\r\n          _id: '$category',\r\n          count: { $sum: 1 },\r\n        },\r\n      },\r\n    ]);\r\n    res.send({\r\n      users,\r\n      orders: orders.length === 0 ? [{ numOrders: 0, totalSales: 0 }] : orders,\r\n      dailyOrders,\r\n      productCategories,\r\n    });\r\n  })\r\n);\r\norderRouter.get(\r\n  '/',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const orders = await Order.find({}).populate('user');\r\n    res.send(orders);\r\n  })\r\n);\r\n\r\norderRouter.get(\r\n  '/mine',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const orders = await Order.find({ user: req.user._id });\r\n    res.send(orders);\r\n  })\r\n);\r\norderRouter.get(\r\n  '/:id',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      res.send(order);\r\n    } else {\r\n      res.status(404).send({ message: 'Order Not Found' });\r\n    }\r\n  })\r\n);\r\norderRouter.post(\r\n  '/',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = new Order({\r\n      orderItems: req.body.orderItems,\r\n      user: req.user._id,\r\n      shipping: req.body.shipping,\r\n      payment: req.body.payment,\r\n      itemsPrice: req.body.itemsPrice,\r\n      taxPrice: req.body.taxPrice,\r\n      shippingPrice: req.body.shippingPrice,\r\n      totalPrice: req.body.totalPrice,\r\n    });\r\n    const createdOrder = await order.save();\r\n    res.status(201).send({ message: 'New Order Created', order: createdOrder });\r\n  })\r\n);\r\norderRouter.delete(\r\n  '/:id',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      const deletedOrder = await order.remove();\r\n      res.send({ message: 'Order Deleted', product: deletedOrder });\r\n    } else {\r\n      res.status(404).send({ message: 'Order Not Found' });\r\n    }\r\n  })\r\n);\r\n\r\norderRouter.put(\r\n  '/:id/pay',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      order.isPaid = true;\r\n      order.paidAt = Date.now();\r\n      order.payment.paymentResult = {\r\n        payerID: req.body.payerID,\r\n        paymentID: req.body.paymentID,\r\n        orderID: req.body.orderID,\r\n      };\r\n      const updatedOrder = await order.save();\r\n      res.send({ message: 'Order Paid', order: updatedOrder });\r\n    } else {\r\n      res.status(404).send({ message: 'Order Not Found.' });\r\n    }\r\n  })\r\n);\r\n\r\norderRouter.put(\r\n  '/:id/deliver',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      order.isDelivered = true;\r\n      order.deliveredAt = Date.now();\r\n      const updatedOrder = await order.save();\r\n      res.send({ message: 'Order Delivered', order: updatedOrder });\r\n    } else {\r\n      res.status(404).send({ message: 'Order Not Found.' });\r\n    }\r\n  })\r\n);\r\n\r\nexport default orderRouter;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712311
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\models\\\\orderModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\orderModel.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\orderModel.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: 'Product',\n      required: true\n    }\n  }],\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  shipping: {\n    address: String,\n    city: String,\n    postalCode: String,\n    country: String\n  },\n  payment: {\n    paymentMethod: String,\n    paymentResult: {\n      orderID: String,\n      payerID: String,\n      paymentID: String\n    }\n  },\n  itemsPrice: Number,\n  taxPrice: Number,\n  shippingPrice: Number,\n  totalPrice: Number,\n  isPaid: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  paidAt: Date,\n  isDelivered: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  deliveredAt: Date\n}, {\n  timestamps: true\n});\n\nconst Order = _mongoose.default.model('Order', orderSchema);\n\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsib3JkZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm9yZGVySXRlbXMiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiaW1hZ2UiLCJwcmljZSIsIk51bWJlciIsInF0eSIsInByb2R1Y3QiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlciIsInNoaXBwaW5nIiwiYWRkcmVzcyIsImNpdHkiLCJwb3N0YWxDb2RlIiwiY291bnRyeSIsInBheW1lbnQiLCJwYXltZW50TWV0aG9kIiwicGF5bWVudFJlc3VsdCIsIm9yZGVySUQiLCJwYXllcklEIiwicGF5bWVudElEIiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInBhaWRBdCIsIkRhdGUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0IiwidGltZXN0YW1wcyIsIk9yZGVyIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNsQjtBQUNFQyxFQUFBQSxVQUFVLEVBQUUsQ0FDVjtBQUNFQyxJQUFBQSxJQUFJLEVBQUU7QUFBRUMsTUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FEUjtBQUVFQyxJQUFBQSxLQUFLLEVBQUU7QUFBRUgsTUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FGVDtBQUdFRSxJQUFBQSxLQUFLLEVBQUU7QUFBRUosTUFBQUEsSUFBSSxFQUFFSyxNQUFSO0FBQWdCSCxNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FIVDtBQUlFSSxJQUFBQSxHQUFHLEVBQUU7QUFBRU4sTUFBQUEsSUFBSSxFQUFFSyxNQUFSO0FBQWdCSCxNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FKUDtBQUtFSyxJQUFBQSxPQUFPLEVBQUU7QUFDUFAsTUFBQUEsSUFBSSxFQUFFSixrQkFBU0MsTUFBVCxDQUFnQlcsS0FBaEIsQ0FBc0JDLFFBRHJCO0FBRVBDLE1BQUFBLEdBQUcsRUFBRSxTQUZFO0FBR1BSLE1BQUFBLFFBQVEsRUFBRTtBQUhIO0FBTFgsR0FEVSxDQURkO0FBY0VTLEVBQUFBLElBQUksRUFBRTtBQUFFWCxJQUFBQSxJQUFJLEVBQUVKLGtCQUFTQyxNQUFULENBQWdCVyxLQUFoQixDQUFzQkMsUUFBOUI7QUFBd0NDLElBQUFBLEdBQUcsRUFBRSxNQUE3QztBQUFxRFIsSUFBQUEsUUFBUSxFQUFFO0FBQS9ELEdBZFI7QUFlRVUsRUFBQUEsUUFBUSxFQUFFO0FBQ1JDLElBQUFBLE9BQU8sRUFBRVosTUFERDtBQUVSYSxJQUFBQSxJQUFJLEVBQUViLE1BRkU7QUFHUmMsSUFBQUEsVUFBVSxFQUFFZCxNQUhKO0FBSVJlLElBQUFBLE9BQU8sRUFBRWY7QUFKRCxHQWZaO0FBcUJFZ0IsRUFBQUEsT0FBTyxFQUFFO0FBQ1BDLElBQUFBLGFBQWEsRUFBRWpCLE1BRFI7QUFFUGtCLElBQUFBLGFBQWEsRUFBRTtBQUNiQyxNQUFBQSxPQUFPLEVBQUVuQixNQURJO0FBRWJvQixNQUFBQSxPQUFPLEVBQUVwQixNQUZJO0FBR2JxQixNQUFBQSxTQUFTLEVBQUVyQjtBQUhFO0FBRlIsR0FyQlg7QUE2QkVzQixFQUFBQSxVQUFVLEVBQUVsQixNQTdCZDtBQThCRW1CLEVBQUFBLFFBQVEsRUFBRW5CLE1BOUJaO0FBK0JFb0IsRUFBQUEsYUFBYSxFQUFFcEIsTUEvQmpCO0FBZ0NFcUIsRUFBQUEsVUFBVSxFQUFFckIsTUFoQ2Q7QUFpQ0VzQixFQUFBQSxNQUFNLEVBQUU7QUFBRTNCLElBQUFBLElBQUksRUFBRTRCLE9BQVI7QUFBaUIxQixJQUFBQSxRQUFRLEVBQUUsSUFBM0I7QUFBaUMyQixJQUFBQSxPQUFPLEVBQUU7QUFBMUMsR0FqQ1Y7QUFrQ0VDLEVBQUFBLE1BQU0sRUFBRUMsSUFsQ1Y7QUFtQ0VDLEVBQUFBLFdBQVcsRUFBRTtBQUFFaEMsSUFBQUEsSUFBSSxFQUFFNEIsT0FBUjtBQUFpQjFCLElBQUFBLFFBQVEsRUFBRSxJQUEzQjtBQUFpQzJCLElBQUFBLE9BQU8sRUFBRTtBQUExQyxHQW5DZjtBQW9DRUksRUFBQUEsV0FBVyxFQUFFRjtBQXBDZixDQURrQixFQXVDbEI7QUFDRUcsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0F2Q2tCLENBQXBCOztBQTJDQSxNQUFNQyxLQUFLLEdBQUd2QyxrQkFBU3dDLEtBQVQsQ0FBZSxPQUFmLEVBQXdCekMsV0FBeEIsQ0FBZDs7ZUFDZXdDLEsiLCJzb3VyY2VSb290IjoiRDpcXFVzZXJzXFxndWVyaVxcRG9jdW1lbnRzXFwuQkVTZXJ2ZXJzXFxub2RlLWphdmFzY3JpcHQtZWNvbW1lcmNlXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCBvcmRlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgb3JkZXJJdGVtczogW1xyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgICAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICAgIHByaWNlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgICBxdHk6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICAgIHByb2R1Y3Q6IHtcclxuICAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICAgIHJlZjogJ1Byb2R1Y3QnLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgICB1c2VyOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnVXNlcicsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBzaGlwcGluZzoge1xyXG4gICAgICBhZGRyZXNzOiBTdHJpbmcsXHJcbiAgICAgIGNpdHk6IFN0cmluZyxcclxuICAgICAgcG9zdGFsQ29kZTogU3RyaW5nLFxyXG4gICAgICBjb3VudHJ5OiBTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgcGF5bWVudDoge1xyXG4gICAgICBwYXltZW50TWV0aG9kOiBTdHJpbmcsXHJcbiAgICAgIHBheW1lbnRSZXN1bHQ6IHtcclxuICAgICAgICBvcmRlcklEOiBTdHJpbmcsXHJcbiAgICAgICAgcGF5ZXJJRDogU3RyaW5nLFxyXG4gICAgICAgIHBheW1lbnRJRDogU3RyaW5nLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIGl0ZW1zUHJpY2U6IE51bWJlcixcclxuICAgIHRheFByaWNlOiBOdW1iZXIsXHJcbiAgICBzaGlwcGluZ1ByaWNlOiBOdW1iZXIsXHJcbiAgICB0b3RhbFByaWNlOiBOdW1iZXIsXHJcbiAgICBpc1BhaWQ6IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgICBwYWlkQXQ6IERhdGUsXHJcbiAgICBpc0RlbGl2ZXJlZDogeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgIGRlbGl2ZXJlZEF0OiBEYXRlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxuICB9XHJcbik7XHJcbmNvbnN0IE9yZGVyID0gbW9uZ29vc2UubW9kZWwoJ09yZGVyJywgb3JkZXJTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBPcmRlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "orderSchema",
        "mongoose",
        "Schema",
        "orderItems",
        "name",
        "type",
        "String",
        "required",
        "image",
        "price",
        "Number",
        "qty",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "user",
        "shipping",
        "address",
        "city",
        "postalCode",
        "country",
        "payment",
        "paymentMethod",
        "paymentResult",
        "orderID",
        "payerID",
        "paymentID",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "Order",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,WAAW,GAAG,IAAIC,kBAASC,MAAb,CAClB;AACEC,EAAAA,UAAU,EAAE,CACV;AACEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,IAAI,EAAEC,MAAR;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KADR;AAEEC,IAAAA,KAAK,EAAE;AAAEH,MAAAA,IAAI,EAAEC,MAAR;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KAFT;AAGEE,IAAAA,KAAK,EAAE;AAAEJ,MAAAA,IAAI,EAAEK,MAAR;AAAgBH,MAAAA,QAAQ,EAAE;AAA1B,KAHT;AAIEI,IAAAA,GAAG,EAAE;AAAEN,MAAAA,IAAI,EAAEK,MAAR;AAAgBH,MAAAA,QAAQ,EAAE;AAA1B,KAJP;AAKEK,IAAAA,OAAO,EAAE;AACPP,MAAAA,IAAI,EAAEJ,kBAASC,MAAT,CAAgBW,KAAhB,CAAsBC,QADrB;AAEPC,MAAAA,GAAG,EAAE,SAFE;AAGPR,MAAAA,QAAQ,EAAE;AAHH;AALX,GADU,CADd;AAcES,EAAAA,IAAI,EAAE;AAAEX,IAAAA,IAAI,EAAEJ,kBAASC,MAAT,CAAgBW,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE,MAA7C;AAAqDR,IAAAA,QAAQ,EAAE;AAA/D,GAdR;AAeEU,EAAAA,QAAQ,EAAE;AACRC,IAAAA,OAAO,EAAEZ,MADD;AAERa,IAAAA,IAAI,EAAEb,MAFE;AAGRc,IAAAA,UAAU,EAAEd,MAHJ;AAIRe,IAAAA,OAAO,EAAEf;AAJD,GAfZ;AAqBEgB,EAAAA,OAAO,EAAE;AACPC,IAAAA,aAAa,EAAEjB,MADR;AAEPkB,IAAAA,aAAa,EAAE;AACbC,MAAAA,OAAO,EAAEnB,MADI;AAEboB,MAAAA,OAAO,EAAEpB,MAFI;AAGbqB,MAAAA,SAAS,EAAErB;AAHE;AAFR,GArBX;AA6BEsB,EAAAA,UAAU,EAAElB,MA7Bd;AA8BEmB,EAAAA,QAAQ,EAAEnB,MA9BZ;AA+BEoB,EAAAA,aAAa,EAAEpB,MA/BjB;AAgCEqB,EAAAA,UAAU,EAAErB,MAhCd;AAiCEsB,EAAAA,MAAM,EAAE;AAAE3B,IAAAA,IAAI,EAAE4B,OAAR;AAAiB1B,IAAAA,QAAQ,EAAE,IAA3B;AAAiC2B,IAAAA,OAAO,EAAE;AAA1C,GAjCV;AAkCEC,EAAAA,MAAM,EAAEC,IAlCV;AAmCEC,EAAAA,WAAW,EAAE;AAAEhC,IAAAA,IAAI,EAAE4B,OAAR;AAAiB1B,IAAAA,QAAQ,EAAE,IAA3B;AAAiC2B,IAAAA,OAAO,EAAE;AAA1C,GAnCf;AAoCEI,EAAAA,WAAW,EAAEF;AApCf,CADkB,EAuClB;AACEG,EAAAA,UAAU,EAAE;AADd,CAvCkB,CAApB;;AA2CA,MAAMC,KAAK,GAAGvC,kBAASwC,KAAT,CAAe,OAAf,EAAwBzC,WAAxB,CAAd;;eACewC,K",
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\n\r\nconst orderSchema = new mongoose.Schema(\r\n  {\r\n    orderItems: [\r\n      {\r\n        name: { type: String, required: true },\r\n        image: { type: String, required: true },\r\n        price: { type: Number, required: true },\r\n        qty: { type: Number, required: true },\r\n        product: {\r\n          type: mongoose.Schema.Types.ObjectId,\r\n          ref: 'Product',\r\n          required: true,\r\n        },\r\n      },\r\n    ],\r\n    user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\r\n    shipping: {\r\n      address: String,\r\n      city: String,\r\n      postalCode: String,\r\n      country: String,\r\n    },\r\n    payment: {\r\n      paymentMethod: String,\r\n      paymentResult: {\r\n        orderID: String,\r\n        payerID: String,\r\n        paymentID: String,\r\n      },\r\n    },\r\n    itemsPrice: Number,\r\n    taxPrice: Number,\r\n    shippingPrice: Number,\r\n    totalPrice: Number,\r\n    isPaid: { type: Boolean, required: true, default: false },\r\n    paidAt: Date,\r\n    isDelivered: { type: Boolean, required: true, default: false },\r\n    deliveredAt: Date,\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\nconst Order = mongoose.model('Order', orderSchema);\r\nexport default Order;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712310
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\models\\\\productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\productModel.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\productModel.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst reviewSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    required: true,\n    default: 0,\n    min: 0,\n    max: 5\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n}, {\n  timestamps: true\n});\n\nconst Product = _mongoose.default.model('Product', productSchema);\n\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJyZXZpZXdTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsInVzZXIiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibmFtZSIsIlN0cmluZyIsInJhdGluZyIsIk51bWJlciIsImRlZmF1bHQiLCJtaW4iLCJtYXgiLCJjb21tZW50IiwidGltZXN0YW1wcyIsInByb2R1Y3RTY2hlbWEiLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwiYnJhbmQiLCJpbWFnZSIsInByaWNlIiwiY291bnRJblN0b2NrIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJQcm9kdWN0IiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNuQjtBQUNFQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFSCxrQkFBU0MsTUFBVCxDQUFnQkcsS0FBaEIsQ0FBc0JDLFFBQTlCO0FBQXdDQyxJQUFBQSxHQUFHLEVBQUUsTUFBN0M7QUFBcURDLElBQUFBLFFBQVEsRUFBRTtBQUEvRCxHQURSO0FBRUVDLEVBQUFBLElBQUksRUFBRTtBQUFFTCxJQUFBQSxJQUFJLEVBQUVNLE1BQVI7QUFBZ0JGLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUZSO0FBR0VHLEVBQUFBLE1BQU0sRUFBRTtBQUNOUCxJQUFBQSxJQUFJLEVBQUVRLE1BREE7QUFFTkosSUFBQUEsUUFBUSxFQUFFLElBRko7QUFHTkssSUFBQUEsT0FBTyxFQUFFLENBSEg7QUFJTkMsSUFBQUEsR0FBRyxFQUFFLENBSkM7QUFLTkMsSUFBQUEsR0FBRyxFQUFFO0FBTEMsR0FIVjtBQVVFQyxFQUFBQSxPQUFPLEVBQUU7QUFBRVosSUFBQUEsSUFBSSxFQUFFTSxNQUFSO0FBQWdCRixJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFWWCxDQURtQixFQWFuQjtBQUFFUyxFQUFBQSxVQUFVLEVBQUU7QUFBZCxDQWJtQixDQUFyQjtBQWdCQSxNQUFNQyxhQUFhLEdBQUcsSUFBSWpCLGtCQUFTQyxNQUFiLENBQ3BCO0FBQ0VPLEVBQUFBLElBQUksRUFBRTtBQUFFTCxJQUFBQSxJQUFJLEVBQUVNLE1BQVI7QUFBZ0JGLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURSO0FBRUVXLEVBQUFBLFdBQVcsRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVNLE1BQVI7QUFBZ0JGLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUZmO0FBR0VZLEVBQUFBLFFBQVEsRUFBRTtBQUFFaEIsSUFBQUEsSUFBSSxFQUFFTSxNQUFSO0FBQWdCRixJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FIWjtBQUlFYSxFQUFBQSxLQUFLLEVBQUU7QUFBRWpCLElBQUFBLElBQUksRUFBRU0sTUFBUjtBQUFnQkYsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSlQ7QUFLRWMsRUFBQUEsS0FBSyxFQUFFO0FBQUVsQixJQUFBQSxJQUFJLEVBQUVNLE1BQVI7QUFBZ0JGLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUxUO0FBTUVlLEVBQUFBLEtBQUssRUFBRTtBQUFFbkIsSUFBQUEsSUFBSSxFQUFFUSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsR0FBekI7QUFBOEJMLElBQUFBLFFBQVEsRUFBRTtBQUF4QyxHQU5UO0FBT0VnQixFQUFBQSxZQUFZLEVBQUU7QUFBRXBCLElBQUFBLElBQUksRUFBRVEsTUFBUjtBQUFnQkMsSUFBQUEsT0FBTyxFQUFFLENBQXpCO0FBQTRCTCxJQUFBQSxRQUFRLEVBQUU7QUFBdEMsR0FQaEI7QUFRRUcsRUFBQUEsTUFBTSxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRVEsTUFBUjtBQUFnQkMsSUFBQUEsT0FBTyxFQUFFLEdBQXpCO0FBQThCTCxJQUFBQSxRQUFRLEVBQUU7QUFBeEMsR0FSVjtBQVNFaUIsRUFBQUEsVUFBVSxFQUFFO0FBQUVyQixJQUFBQSxJQUFJLEVBQUVRLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkwsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBVGQ7QUFVRWtCLEVBQUFBLE9BQU8sRUFBRSxDQUFDMUIsWUFBRDtBQVZYLENBRG9CLEVBYXBCO0FBQUVpQixFQUFBQSxVQUFVLEVBQUU7QUFBZCxDQWJvQixDQUF0Qjs7QUFlQSxNQUFNVSxPQUFPLEdBQUcxQixrQkFBUzJCLEtBQVQsQ0FBZSxTQUFmLEVBQTBCVixhQUExQixDQUFoQjs7ZUFDZVMsTyIsInNvdXJjZVJvb3QiOiJEOlxcVXNlcnNcXGd1ZXJpXFxEb2N1bWVudHNcXC5CRVNlcnZlcnNcXG5vZGUtamF2YXNjcmlwdC1lY29tbWVyY2VcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IHJldmlld1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICByYXRpbmc6IHtcclxuICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgZGVmYXVsdDogMCxcclxuICAgICAgbWluOiAwLFxyXG4gICAgICBtYXg6IDUsXHJcbiAgICB9LFxyXG4gICAgY29tbWVudDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgfSxcclxuICB7IHRpbWVzdGFtcHM6IHRydWUgfVxyXG4pO1xyXG5cclxuY29uc3QgcHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBjYXRlZ29yeTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBicmFuZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBwcmljZTogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAuMCwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIGNvdW50SW5TdG9jazogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICByYXRpbmc6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLjAsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIHJldmlld3M6IFtyZXZpZXdTY2hlbWFdLFxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuY29uc3QgUHJvZHVjdCA9IG1vbmdvb3NlLm1vZGVsKCdQcm9kdWN0JywgcHJvZHVjdFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "reviewSchema",
        "mongoose",
        "Schema",
        "user",
        "type",
        "Types",
        "ObjectId",
        "ref",
        "required",
        "name",
        "String",
        "rating",
        "Number",
        "default",
        "min",
        "max",
        "comment",
        "timestamps",
        "productSchema",
        "description",
        "category",
        "brand",
        "image",
        "price",
        "countInStock",
        "numReviews",
        "reviews",
        "Product",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,kBAASC,MAAb,CACnB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE,MAA7C;AAAqDC,IAAAA,QAAQ,EAAE;AAA/D,GADR;AAEEC,EAAAA,IAAI,EAAE;AAAEL,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GAFR;AAGEG,EAAAA,MAAM,EAAE;AACNP,IAAAA,IAAI,EAAEQ,MADA;AAENJ,IAAAA,QAAQ,EAAE,IAFJ;AAGNK,IAAAA,OAAO,EAAE,CAHH;AAINC,IAAAA,GAAG,EAAE,CAJC;AAKNC,IAAAA,GAAG,EAAE;AALC,GAHV;AAUEC,EAAAA,OAAO,EAAE;AAAEZ,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B;AAVX,CADmB,EAanB;AAAES,EAAAA,UAAU,EAAE;AAAd,CAbmB,CAArB;AAgBA,MAAMC,aAAa,GAAG,IAAIjB,kBAASC,MAAb,CACpB;AACEO,EAAAA,IAAI,EAAE;AAAEL,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEW,EAAAA,WAAW,EAAE;AAAEf,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GAFf;AAGEY,EAAAA,QAAQ,EAAE;AAAEhB,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GAHZ;AAIEa,EAAAA,KAAK,EAAE;AAAEjB,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GAJT;AAKEc,EAAAA,KAAK,EAAE;AAAElB,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GALT;AAMEe,EAAAA,KAAK,EAAE;AAAEnB,IAAAA,IAAI,EAAEQ,MAAR;AAAgBC,IAAAA,OAAO,EAAE,GAAzB;AAA8BL,IAAAA,QAAQ,EAAE;AAAxC,GANT;AAOEgB,EAAAA,YAAY,EAAE;AAAEpB,IAAAA,IAAI,EAAEQ,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BL,IAAAA,QAAQ,EAAE;AAAtC,GAPhB;AAQEG,EAAAA,MAAM,EAAE;AAAEP,IAAAA,IAAI,EAAEQ,MAAR;AAAgBC,IAAAA,OAAO,EAAE,GAAzB;AAA8BL,IAAAA,QAAQ,EAAE;AAAxC,GARV;AASEiB,EAAAA,UAAU,EAAE;AAAErB,IAAAA,IAAI,EAAEQ,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BL,IAAAA,QAAQ,EAAE;AAAtC,GATd;AAUEkB,EAAAA,OAAO,EAAE,CAAC1B,YAAD;AAVX,CADoB,EAapB;AAAEiB,EAAAA,UAAU,EAAE;AAAd,CAboB,CAAtB;;AAeA,MAAMU,OAAO,GAAG1B,kBAAS2B,KAAT,CAAe,SAAf,EAA0BV,aAA1B,CAAhB;;eACeS,O",
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\n\r\nconst reviewSchema = new mongoose.Schema(\r\n  {\r\n    user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\r\n    name: { type: String, required: true },\r\n    rating: {\r\n      type: Number,\r\n      required: true,\r\n      default: 0,\r\n      min: 0,\r\n      max: 5,\r\n    },\r\n    comment: { type: String, required: true },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nconst productSchema = new mongoose.Schema(\r\n  {\r\n    name: { type: String, required: true },\r\n    description: { type: String, required: true },\r\n    category: { type: String, required: true },\r\n    brand: { type: String, required: true },\r\n    image: { type: String, required: true },\r\n    price: { type: Number, default: 0.0, required: true },\r\n    countInStock: { type: Number, default: 0, required: true },\r\n    rating: { type: Number, default: 0.0, required: true },\r\n    numReviews: { type: Number, default: 0, required: true },\r\n    reviews: [reviewSchema],\r\n  },\r\n  { timestamps: true }\r\n);\r\nconst Product = mongoose.model('Product', productSchema);\r\nexport default Product;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712310
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\productRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\productRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\productRouter.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\productRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
        "sourceFileName": "productRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utils = require(\"../utils\");\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const products = await _productModel.default.find({ ...searchKeyword\n  });\n  res.send(products);\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  res.send(product);\n}));\nproductRouter.post('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample product',\n    description: 'sample desc',\n    category: 'sample category',\n    brand: 'sample brand',\n    image: '/images/product-1.jpg'\n  });\n  const createdProduct = await product.save();\n\n  if (createdProduct) {\n    res.status(201).send({\n      message: 'Product Created',\n      product: createdProduct\n    });\n  } else {\n    res.status(500).send({\n      message: 'Error in creating product'\n    });\n  }\n}));\nproductRouter.put('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n\n    if (updatedProduct) {\n      res.send({\n        message: 'Product Updated',\n        product: updatedProduct\n      });\n    } else {\n      res.status(500).send({\n        message: 'Error in updaing product'\n      });\n    }\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deletedProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deletedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.post('/:id/reviews', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const review = {\n      rating: req.body.rating,\n      comment: req.body.comment,\n      user: req.user._id,\n      name: req.user.name\n    };\n    product.reviews.push(review);\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    product.numReviews = product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      message: 'Comment Created.',\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1]\n    });\n  } else {\n    throw Error('Product does not exist.');\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJzZWFyY2hLZXl3b3JkIiwicXVlcnkiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwic2VuZCIsInByb2R1Y3QiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicG9zdCIsImlzQXV0aCIsImlzQWRtaW4iLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwiYnJhbmQiLCJpbWFnZSIsImNyZWF0ZWRQcm9kdWN0Iiwic2F2ZSIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwdXQiLCJwcm9kdWN0SWQiLCJib2R5IiwicHJpY2UiLCJjb3VudEluU3RvY2siLCJ1cGRhdGVkUHJvZHVjdCIsImRlbGV0ZSIsImRlbGV0ZWRQcm9kdWN0IiwicmVtb3ZlIiwicmV2aWV3IiwicmF0aW5nIiwiY29tbWVudCIsInVzZXIiLCJfaWQiLCJyZXZpZXdzIiwicHVzaCIsInJlZHVjZSIsImEiLCJjIiwibGVuZ3RoIiwibnVtUmV2aWV3cyIsImRhdGEiLCJFcnJvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHQyxpQkFBUUMsTUFBUixFQUF0Qjs7QUFDQUYsYUFBYSxDQUFDRyxHQUFkLENBQ0UsR0FERixFQUVFLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTUMsYUFBYSxHQUFHRixHQUFHLENBQUNHLEtBQUosQ0FBVUQsYUFBVixHQUNsQjtBQUNFRSxJQUFBQSxJQUFJLEVBQUU7QUFDSkMsTUFBQUEsTUFBTSxFQUFFTCxHQUFHLENBQUNHLEtBQUosQ0FBVUQsYUFEZDtBQUVKSSxNQUFBQSxRQUFRLEVBQUU7QUFGTjtBQURSLEdBRGtCLEdBT2xCLEVBUEo7QUFRQSxRQUFNQyxRQUFRLEdBQUcsTUFBTUMsc0JBQVFDLElBQVIsQ0FBYSxFQUFFLEdBQUdQO0FBQUwsR0FBYixDQUF2QjtBQUNBRCxFQUFBQSxHQUFHLENBQUNTLElBQUosQ0FBU0gsUUFBVDtBQUNELENBWEQsQ0FGRjtBQWVBWCxhQUFhLENBQUNHLEdBQWQsQ0FDRSxNQURGLEVBRUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNVSxPQUFPLEdBQUcsTUFBTUgsc0JBQVFJLFFBQVIsQ0FBaUJaLEdBQUcsQ0FBQ2EsTUFBSixDQUFXQyxFQUE1QixDQUF0QjtBQUNBYixFQUFBQSxHQUFHLENBQUNTLElBQUosQ0FBU0MsT0FBVDtBQUNELENBSEQsQ0FGRjtBQVFBZixhQUFhLENBQUNtQixJQUFkLENBQ0UsR0FERixFQUVFQyxhQUZGLEVBR0VDLGNBSEYsRUFJRSxrQ0FBb0IsT0FBT2pCLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNVSxPQUFPLEdBQUcsSUFBSUgscUJBQUosQ0FBWTtBQUMxQkosSUFBQUEsSUFBSSxFQUFFLGdCQURvQjtBQUUxQmMsSUFBQUEsV0FBVyxFQUFFLGFBRmE7QUFHMUJDLElBQUFBLFFBQVEsRUFBRSxpQkFIZ0I7QUFJMUJDLElBQUFBLEtBQUssRUFBRSxjQUptQjtBQUsxQkMsSUFBQUEsS0FBSyxFQUFFO0FBTG1CLEdBQVosQ0FBaEI7QUFPQSxRQUFNQyxjQUFjLEdBQUcsTUFBTVgsT0FBTyxDQUFDWSxJQUFSLEVBQTdCOztBQUNBLE1BQUlELGNBQUosRUFBb0I7QUFDbEJyQixJQUFBQSxHQUFHLENBQ0F1QixNQURILENBQ1UsR0FEVixFQUVHZCxJQUZILENBRVE7QUFBRWUsTUFBQUEsT0FBTyxFQUFFLGlCQUFYO0FBQThCZCxNQUFBQSxPQUFPLEVBQUVXO0FBQXZDLEtBRlI7QUFHRCxHQUpELE1BSU87QUFDTHJCLElBQUFBLEdBQUcsQ0FBQ3VCLE1BQUosQ0FBVyxHQUFYLEVBQWdCZCxJQUFoQixDQUFxQjtBQUFFZSxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FoQkQsQ0FKRjtBQXNCQTdCLGFBQWEsQ0FBQzhCLEdBQWQsQ0FDRSxNQURGLEVBRUVWLGFBRkYsRUFHRUMsY0FIRixFQUlFLGtDQUFvQixPQUFPakIsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU0wQixTQUFTLEdBQUczQixHQUFHLENBQUNhLE1BQUosQ0FBV0MsRUFBN0I7QUFDQSxRQUFNSCxPQUFPLEdBQUcsTUFBTUgsc0JBQVFJLFFBQVIsQ0FBaUJlLFNBQWpCLENBQXRCOztBQUNBLE1BQUloQixPQUFKLEVBQWE7QUFDWEEsSUFBQUEsT0FBTyxDQUFDUCxJQUFSLEdBQWVKLEdBQUcsQ0FBQzRCLElBQUosQ0FBU3hCLElBQXhCO0FBQ0FPLElBQUFBLE9BQU8sQ0FBQ2tCLEtBQVIsR0FBZ0I3QixHQUFHLENBQUM0QixJQUFKLENBQVNDLEtBQXpCO0FBQ0FsQixJQUFBQSxPQUFPLENBQUNVLEtBQVIsR0FBZ0JyQixHQUFHLENBQUM0QixJQUFKLENBQVNQLEtBQXpCO0FBQ0FWLElBQUFBLE9BQU8sQ0FBQ1MsS0FBUixHQUFnQnBCLEdBQUcsQ0FBQzRCLElBQUosQ0FBU1IsS0FBekI7QUFDQVQsSUFBQUEsT0FBTyxDQUFDUSxRQUFSLEdBQW1CbkIsR0FBRyxDQUFDNEIsSUFBSixDQUFTVCxRQUE1QjtBQUNBUixJQUFBQSxPQUFPLENBQUNtQixZQUFSLEdBQXVCOUIsR0FBRyxDQUFDNEIsSUFBSixDQUFTRSxZQUFoQztBQUNBbkIsSUFBQUEsT0FBTyxDQUFDTyxXQUFSLEdBQXNCbEIsR0FBRyxDQUFDNEIsSUFBSixDQUFTVixXQUEvQjtBQUNBLFVBQU1hLGNBQWMsR0FBRyxNQUFNcEIsT0FBTyxDQUFDWSxJQUFSLEVBQTdCOztBQUNBLFFBQUlRLGNBQUosRUFBb0I7QUFDbEI5QixNQUFBQSxHQUFHLENBQUNTLElBQUosQ0FBUztBQUFFZSxRQUFBQSxPQUFPLEVBQUUsaUJBQVg7QUFBOEJkLFFBQUFBLE9BQU8sRUFBRW9CO0FBQXZDLE9BQVQ7QUFDRCxLQUZELE1BRU87QUFDTDlCLE1BQUFBLEdBQUcsQ0FBQ3VCLE1BQUosQ0FBVyxHQUFYLEVBQWdCZCxJQUFoQixDQUFxQjtBQUFFZSxRQUFBQSxPQUFPLEVBQUU7QUFBWCxPQUFyQjtBQUNEO0FBQ0YsR0FkRCxNQWNPO0FBQ0x4QixJQUFBQSxHQUFHLENBQUN1QixNQUFKLENBQVcsR0FBWCxFQUFnQmQsSUFBaEIsQ0FBcUI7QUFBRWUsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBcEJELENBSkY7QUEwQkE3QixhQUFhLENBQUNvQyxNQUFkLENBQ0UsTUFERixFQUVFaEIsYUFGRixFQUdFQyxjQUhGLEVBSUUsa0NBQW9CLE9BQU9qQixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTVUsT0FBTyxHQUFHLE1BQU1ILHNCQUFRSSxRQUFSLENBQWlCWixHQUFHLENBQUNhLE1BQUosQ0FBV0MsRUFBNUIsQ0FBdEI7O0FBQ0EsTUFBSUgsT0FBSixFQUFhO0FBQ1gsVUFBTXNCLGNBQWMsR0FBRyxNQUFNdEIsT0FBTyxDQUFDdUIsTUFBUixFQUE3QjtBQUNBakMsSUFBQUEsR0FBRyxDQUFDUyxJQUFKLENBQVM7QUFBRWUsTUFBQUEsT0FBTyxFQUFFLGlCQUFYO0FBQThCZCxNQUFBQSxPQUFPLEVBQUVzQjtBQUF2QyxLQUFUO0FBQ0QsR0FIRCxNQUdPO0FBQ0xoQyxJQUFBQSxHQUFHLENBQUN1QixNQUFKLENBQVcsR0FBWCxFQUFnQmQsSUFBaEIsQ0FBcUI7QUFBRWUsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBUkQsQ0FKRjtBQWVBN0IsYUFBYSxDQUFDbUIsSUFBZCxDQUNFLGNBREYsRUFFRUMsYUFGRixFQUdFLGtDQUFvQixPQUFPaEIsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1VLE9BQU8sR0FBRyxNQUFNSCxzQkFBUUksUUFBUixDQUFpQlosR0FBRyxDQUFDYSxNQUFKLENBQVdDLEVBQTVCLENBQXRCOztBQUNBLE1BQUlILE9BQUosRUFBYTtBQUNYLFVBQU13QixNQUFNLEdBQUc7QUFDYkMsTUFBQUEsTUFBTSxFQUFFcEMsR0FBRyxDQUFDNEIsSUFBSixDQUFTUSxNQURKO0FBRWJDLE1BQUFBLE9BQU8sRUFBRXJDLEdBQUcsQ0FBQzRCLElBQUosQ0FBU1MsT0FGTDtBQUdiQyxNQUFBQSxJQUFJLEVBQUV0QyxHQUFHLENBQUNzQyxJQUFKLENBQVNDLEdBSEY7QUFJYm5DLE1BQUFBLElBQUksRUFBRUosR0FBRyxDQUFDc0MsSUFBSixDQUFTbEM7QUFKRixLQUFmO0FBTUFPLElBQUFBLE9BQU8sQ0FBQzZCLE9BQVIsQ0FBZ0JDLElBQWhCLENBQXFCTixNQUFyQjtBQUNBeEIsSUFBQUEsT0FBTyxDQUFDeUIsTUFBUixHQUNFekIsT0FBTyxDQUFDNkIsT0FBUixDQUFnQkUsTUFBaEIsQ0FBdUIsQ0FBQ0MsQ0FBRCxFQUFJQyxDQUFKLEtBQVVBLENBQUMsQ0FBQ1IsTUFBRixHQUFXTyxDQUE1QyxFQUErQyxDQUEvQyxJQUNBaEMsT0FBTyxDQUFDNkIsT0FBUixDQUFnQkssTUFGbEI7QUFHQWxDLElBQUFBLE9BQU8sQ0FBQ21DLFVBQVIsR0FBcUJuQyxPQUFPLENBQUM2QixPQUFSLENBQWdCSyxNQUFyQztBQUNBLFVBQU1kLGNBQWMsR0FBRyxNQUFNcEIsT0FBTyxDQUFDWSxJQUFSLEVBQTdCO0FBQ0F0QixJQUFBQSxHQUFHLENBQUN1QixNQUFKLENBQVcsR0FBWCxFQUFnQmQsSUFBaEIsQ0FBcUI7QUFDbkJlLE1BQUFBLE9BQU8sRUFBRSxrQkFEVTtBQUVuQnNCLE1BQUFBLElBQUksRUFBRWhCLGNBQWMsQ0FBQ1MsT0FBZixDQUF1QlQsY0FBYyxDQUFDUyxPQUFmLENBQXVCSyxNQUF2QixHQUFnQyxDQUF2RDtBQUZhLEtBQXJCO0FBSUQsR0FqQkQsTUFpQk87QUFDTCxVQUFNRyxLQUFLLENBQUMseUJBQUQsQ0FBWDtBQUNEO0FBQ0YsQ0F0QkQsQ0FIRjtlQTRCZXBELGEiLCJzb3VyY2VSb290IjoiRDpcXFVzZXJzXFxndWVyaVxcRG9jdW1lbnRzXFwuQkVTZXJ2ZXJzXFxub2RlLWphdmFzY3JpcHQtZWNvbW1lcmNlXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcclxuaW1wb3J0IHsgaXNBdXRoLCBpc0FkbWluIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdE1vZGVsJztcclxuXHJcbmNvbnN0IHByb2R1Y3RSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5wcm9kdWN0Um91dGVyLmdldChcclxuICAnLycsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHNlYXJjaEtleXdvcmQgPSByZXEucXVlcnkuc2VhcmNoS2V5d29yZFxyXG4gICAgICA/IHtcclxuICAgICAgICAgIG5hbWU6IHtcclxuICAgICAgICAgICAgJHJlZ2V4OiByZXEucXVlcnkuc2VhcmNoS2V5d29yZCxcclxuICAgICAgICAgICAgJG9wdGlvbnM6ICdpJyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfVxyXG4gICAgICA6IHt9O1xyXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoeyAuLi5zZWFyY2hLZXl3b3JkIH0pO1xyXG4gICAgcmVzLnNlbmQocHJvZHVjdHMpO1xyXG4gIH0pXHJcbik7XHJcbnByb2R1Y3RSb3V0ZXIuZ2V0KFxyXG4gICcvOmlkJyxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XHJcbiAgICByZXMuc2VuZChwcm9kdWN0KTtcclxuICB9KVxyXG4pO1xyXG5cclxucHJvZHVjdFJvdXRlci5wb3N0KFxyXG4gICcvJyxcclxuICBpc0F1dGgsXHJcbiAgaXNBZG1pbixcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcclxuICAgICAgbmFtZTogJ3NhbXBsZSBwcm9kdWN0JyxcclxuICAgICAgZGVzY3JpcHRpb246ICdzYW1wbGUgZGVzYycsXHJcbiAgICAgIGNhdGVnb3J5OiAnc2FtcGxlIGNhdGVnb3J5JyxcclxuICAgICAgYnJhbmQ6ICdzYW1wbGUgYnJhbmQnLFxyXG4gICAgICBpbWFnZTogJy9pbWFnZXMvcHJvZHVjdC0xLmpwZycsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyZWF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XHJcbiAgICBpZiAoY3JlYXRlZFByb2R1Y3QpIHtcclxuICAgICAgcmVzXHJcbiAgICAgICAgLnN0YXR1cygyMDEpXHJcbiAgICAgICAgLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBDcmVhdGVkJywgcHJvZHVjdDogY3JlYXRlZFByb2R1Y3QgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICdFcnJvciBpbiBjcmVhdGluZyBwcm9kdWN0JyB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5wcm9kdWN0Um91dGVyLnB1dChcclxuICAnLzppZCcsXHJcbiAgaXNBdXRoLFxyXG4gIGlzQWRtaW4sXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHByb2R1Y3RJZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChwcm9kdWN0SWQpO1xyXG4gICAgaWYgKHByb2R1Y3QpIHtcclxuICAgICAgcHJvZHVjdC5uYW1lID0gcmVxLmJvZHkubmFtZTtcclxuICAgICAgcHJvZHVjdC5wcmljZSA9IHJlcS5ib2R5LnByaWNlO1xyXG4gICAgICBwcm9kdWN0LmltYWdlID0gcmVxLmJvZHkuaW1hZ2U7XHJcbiAgICAgIHByb2R1Y3QuYnJhbmQgPSByZXEuYm9keS5icmFuZDtcclxuICAgICAgcHJvZHVjdC5jYXRlZ29yeSA9IHJlcS5ib2R5LmNhdGVnb3J5O1xyXG4gICAgICBwcm9kdWN0LmNvdW50SW5TdG9jayA9IHJlcS5ib2R5LmNvdW50SW5TdG9jaztcclxuICAgICAgcHJvZHVjdC5kZXNjcmlwdGlvbiA9IHJlcS5ib2R5LmRlc2NyaXB0aW9uO1xyXG4gICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgICBpZiAodXBkYXRlZFByb2R1Y3QpIHtcclxuICAgICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IFVwZGF0ZWQnLCBwcm9kdWN0OiB1cGRhdGVkUHJvZHVjdCB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICdFcnJvciBpbiB1cGRhaW5nIHByb2R1Y3QnIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxucHJvZHVjdFJvdXRlci5kZWxldGUoXHJcbiAgJy86aWQnLFxyXG4gIGlzQXV0aCxcclxuICBpc0FkbWluLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgIGNvbnN0IGRlbGV0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5yZW1vdmUoKTtcclxuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBEZWxldGVkJywgcHJvZHVjdDogZGVsZXRlZFByb2R1Y3QgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuXHJcbnByb2R1Y3RSb3V0ZXIucG9zdChcclxuICAnLzppZC9yZXZpZXdzJyxcclxuICBpc0F1dGgsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKHByb2R1Y3QpIHtcclxuICAgICAgY29uc3QgcmV2aWV3ID0ge1xyXG4gICAgICAgIHJhdGluZzogcmVxLmJvZHkucmF0aW5nLFxyXG4gICAgICAgIGNvbW1lbnQ6IHJlcS5ib2R5LmNvbW1lbnQsXHJcbiAgICAgICAgdXNlcjogcmVxLnVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IHJlcS51c2VyLm5hbWUsXHJcbiAgICAgIH07XHJcbiAgICAgIHByb2R1Y3QucmV2aWV3cy5wdXNoKHJldmlldyk7XHJcbiAgICAgIHByb2R1Y3QucmF0aW5nID1cclxuICAgICAgICBwcm9kdWN0LnJldmlld3MucmVkdWNlKChhLCBjKSA9PiBjLnJhdGluZyArIGEsIDApIC9cclxuICAgICAgICBwcm9kdWN0LnJldmlld3MubGVuZ3RoO1xyXG4gICAgICBwcm9kdWN0Lm51bVJldmlld3MgPSBwcm9kdWN0LnJldmlld3MubGVuZ3RoO1xyXG4gICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XHJcbiAgICAgICAgbWVzc2FnZTogJ0NvbW1lbnQgQ3JlYXRlZC4nLFxyXG4gICAgICAgIGRhdGE6IHVwZGF0ZWRQcm9kdWN0LnJldmlld3NbdXBkYXRlZFByb2R1Y3QucmV2aWV3cy5sZW5ndGggLSAxXSxcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBFcnJvcignUHJvZHVjdCBkb2VzIG5vdCBleGlzdC4nKTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcHJvZHVjdFJvdXRlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "productRouter.js"
      ],
      "names": [
        "productRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "searchKeyword",
        "query",
        "name",
        "$regex",
        "$options",
        "products",
        "Product",
        "find",
        "send",
        "product",
        "findById",
        "params",
        "id",
        "post",
        "isAuth",
        "isAdmin",
        "description",
        "category",
        "brand",
        "image",
        "createdProduct",
        "save",
        "status",
        "message",
        "put",
        "productId",
        "body",
        "price",
        "countInStock",
        "updatedProduct",
        "delete",
        "deletedProduct",
        "remove",
        "review",
        "rating",
        "comment",
        "user",
        "_id",
        "reviews",
        "push",
        "reduce",
        "a",
        "c",
        "length",
        "numReviews",
        "data",
        "Error"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport expressAsyncHandler from 'express-async-handler';\r\nimport { isAuth, isAdmin } from '../utils';\r\nimport Product from '../models/productModel';\r\n\r\nconst productRouter = express.Router();\r\nproductRouter.get(\r\n  '/',\r\n  expressAsyncHandler(async (req, res) => {\r\n    const searchKeyword = req.query.searchKeyword\r\n      ? {\r\n          name: {\r\n            $regex: req.query.searchKeyword,\r\n            $options: 'i',\r\n          },\r\n        }\r\n      : {};\r\n    const products = await Product.find({ ...searchKeyword });\r\n    res.send(products);\r\n  })\r\n);\r\nproductRouter.get(\r\n  '/:id',\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = await Product.findById(req.params.id);\r\n    res.send(product);\r\n  })\r\n);\r\n\r\nproductRouter.post(\r\n  '/',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = new Product({\r\n      name: 'sample product',\r\n      description: 'sample desc',\r\n      category: 'sample category',\r\n      brand: 'sample brand',\r\n      image: '/images/product-1.jpg',\r\n    });\r\n    const createdProduct = await product.save();\r\n    if (createdProduct) {\r\n      res\r\n        .status(201)\r\n        .send({ message: 'Product Created', product: createdProduct });\r\n    } else {\r\n      res.status(500).send({ message: 'Error in creating product' });\r\n    }\r\n  })\r\n);\r\nproductRouter.put(\r\n  '/:id',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const productId = req.params.id;\r\n    const product = await Product.findById(productId);\r\n    if (product) {\r\n      product.name = req.body.name;\r\n      product.price = req.body.price;\r\n      product.image = req.body.image;\r\n      product.brand = req.body.brand;\r\n      product.category = req.body.category;\r\n      product.countInStock = req.body.countInStock;\r\n      product.description = req.body.description;\r\n      const updatedProduct = await product.save();\r\n      if (updatedProduct) {\r\n        res.send({ message: 'Product Updated', product: updatedProduct });\r\n      } else {\r\n        res.status(500).send({ message: 'Error in updaing product' });\r\n      }\r\n    } else {\r\n      res.status(404).send({ message: 'Product Not Found' });\r\n    }\r\n  })\r\n);\r\nproductRouter.delete(\r\n  '/:id',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = await Product.findById(req.params.id);\r\n    if (product) {\r\n      const deletedProduct = await product.remove();\r\n      res.send({ message: 'Product Deleted', product: deletedProduct });\r\n    } else {\r\n      res.status(404).send({ message: 'Product Not Found' });\r\n    }\r\n  })\r\n);\r\n\r\nproductRouter.post(\r\n  '/:id/reviews',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = await Product.findById(req.params.id);\r\n    if (product) {\r\n      const review = {\r\n        rating: req.body.rating,\r\n        comment: req.body.comment,\r\n        user: req.user._id,\r\n        name: req.user.name,\r\n      };\r\n      product.reviews.push(review);\r\n      product.rating =\r\n        product.reviews.reduce((a, c) => c.rating + a, 0) /\r\n        product.reviews.length;\r\n      product.numReviews = product.reviews.length;\r\n      const updatedProduct = await product.save();\r\n      res.status(201).send({\r\n        message: 'Comment Created.',\r\n        data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\r\n      });\r\n    } else {\r\n      throw Error('Product does not exist.');\r\n    }\r\n  })\r\n);\r\n\r\nexport default productRouter;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712311
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\uploadRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\uploadRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\uploadRouter.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\uploadRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
        "sourceFileName": "uploadRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\n\nconst uploadRouter = _express.default.Router();\n\nuploadRouter.post('/', _utils.isAuth, _utils.isAdmin, upload.single('image'), (req, res) => {\n  res.status(201).send({\n    image: `/${req.file.path}`\n  });\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlci5qcyJdLCJuYW1lcyI6WyJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwiRGF0ZSIsIm5vdyIsInVwbG9hZCIsInVwbG9hZFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInNpbmdsZSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJpbWFnZSIsInBhdGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE9BQU8sR0FBR0MsZ0JBQU9DLFdBQVAsQ0FBbUI7QUFDakNDLEVBQUFBLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDekJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQU8sVUFBUCxDQUFGO0FBQ0QsR0FIZ0M7O0FBSWpDQyxFQUFBQSxRQUFRLENBQUNILEdBQUQsRUFBTUMsSUFBTixFQUFZQyxFQUFaLEVBQWdCO0FBQ3RCQSxJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFRLEdBQUVFLElBQUksQ0FBQ0MsR0FBTCxFQUFXLE1BQXJCLENBQUY7QUFDRDs7QUFOZ0MsQ0FBbkIsQ0FBaEI7O0FBU0EsTUFBTUMsTUFBTSxHQUFHLHFCQUFPO0FBQUVWLEVBQUFBO0FBQUYsQ0FBUCxDQUFmOztBQUNBLE1BQU1XLFlBQVksR0FBR0MsaUJBQVFDLE1BQVIsRUFBckI7O0FBRUFGLFlBQVksQ0FBQ0csSUFBYixDQUFrQixHQUFsQixFQUF1QkMsYUFBdkIsRUFBK0JDLGNBQS9CLEVBQXdDTixNQUFNLENBQUNPLE1BQVAsQ0FBYyxPQUFkLENBQXhDLEVBQWdFLENBQUNiLEdBQUQsRUFBTWMsR0FBTixLQUFjO0FBQzVFQSxFQUFBQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxJQUFBQSxLQUFLLEVBQUcsSUFBR2pCLEdBQUcsQ0FBQ0MsSUFBSixDQUFTaUIsSUFBSztBQUEzQixHQUFyQjtBQUNELENBRkQ7ZUFHZVgsWSIsInNvdXJjZVJvb3QiOiJEOlxcVXNlcnNcXGd1ZXJpXFxEb2N1bWVudHNcXC5CRVNlcnZlcnNcXG5vZGUtamF2YXNjcmlwdC1lY29tbWVyY2VcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XHJcbmltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbiB9IGZyb20gJy4uL3V0aWxzJztcclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gIGRlc3RpbmF0aW9uKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNiKG51bGwsICd1cGxvYWRzLycpO1xyXG4gIH0sXHJcbiAgZmlsZW5hbWUocmVxLCBmaWxlLCBjYikge1xyXG4gICAgY2IobnVsbCwgYCR7RGF0ZS5ub3coKX0uanBnYCk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlIH0pO1xyXG5jb25zdCB1cGxvYWRSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxudXBsb2FkUm91dGVyLnBvc3QoJy8nLCBpc0F1dGgsIGlzQWRtaW4sIHVwbG9hZC5zaW5nbGUoJ2ltYWdlJyksIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgaW1hZ2U6IGAvJHtyZXEuZmlsZS5wYXRofWAgfSk7XHJcbn0pO1xyXG5leHBvcnQgZGVmYXVsdCB1cGxvYWRSb3V0ZXI7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "uploadRouter.js"
      ],
      "names": [
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "uploadRouter",
        "express",
        "Router",
        "post",
        "isAuth",
        "isAdmin",
        "single",
        "res",
        "status",
        "send",
        "image",
        "path"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACD,GAHgC;;AAIjCC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACtBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACD;;AANgC,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;;AACA,MAAMW,YAAY,GAAGC,iBAAQC,MAAR,EAArB;;AAEAF,YAAY,CAACG,IAAb,CAAkB,GAAlB,EAAuBC,aAAvB,EAA+BC,cAA/B,EAAwCN,MAAM,CAACO,MAAP,CAAc,OAAd,CAAxC,EAAgE,CAACb,GAAD,EAAMc,GAAN,KAAc;AAC5EA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,KAAK,EAAG,IAAGjB,GAAG,CAACC,IAAJ,CAASiB,IAAK;AAA3B,GAArB;AACD,CAFD;eAGeX,Y",
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport multer from 'multer';\r\nimport { isAuth, isAdmin } from '../utils';\r\n\r\nconst storage = multer.diskStorage({\r\n  destination(req, file, cb) {\r\n    cb(null, 'uploads/');\r\n  },\r\n  filename(req, file, cb) {\r\n    cb(null, `${Date.now()}.jpg`);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage });\r\nconst uploadRouter = express.Router();\r\n\r\nuploadRouter.post('/', isAuth, isAdmin, upload.single('image'), (req, res) => {\r\n  res.status(201).send({ image: `/${req.file.path}` });\r\n});\r\nexport default uploadRouter;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712311
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\config.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\config.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL,\n  JWT_SECRET: process.env.JWT_SECRET,\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsIlBBWVBBTF9DTElFTlRfSUQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBQSxnQkFBT0MsTUFBUDs7ZUFFZTtBQUNiQyxFQUFBQSxJQUFJLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixJQUFaLElBQW9CLElBRGI7QUFFYkcsRUFBQUEsV0FBVyxFQUFFRixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FGWjtBQUdiQyxFQUFBQSxVQUFVLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxVQUhYO0FBSWJDLEVBQUFBLGdCQUFnQixFQUFFSixPQUFPLENBQUNDLEdBQVIsQ0FBWUc7QUFKakIsQyIsInNvdXJjZVJvb3QiOiJEOlxcVXNlcnNcXGd1ZXJpXFxEb2N1bWVudHNcXC5CRVNlcnZlcnNcXG5vZGUtamF2YXNjcmlwdC1lY29tbWVyY2VcXGJhY2tlbmRcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBQT1JUOiBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDAsXHJcbiAgTU9OR09EQl9VUkw6IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMLFxyXG4gIEpXVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsXHJcbiAgUEFZUEFMX0NMSUVOVF9JRDogcHJvY2Vzcy5lbnYuUEFZUEFMX0NMSUVOVF9JRCxcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "dotenv",
        "config",
        "PORT",
        "process",
        "env",
        "MONGODB_URL",
        "JWT_SECRET",
        "PAYPAL_CLIENT_ID"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEAA,gBAAOC,MAAP;;eAEe;AACbC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IADb;AAEbG,EAAAA,WAAW,EAAEF,OAAO,CAACC,GAAR,CAAYC,WAFZ;AAGbC,EAAAA,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYE,UAHX;AAIbC,EAAAA,gBAAgB,EAAEJ,OAAO,CAACC,GAAR,CAAYG;AAJjB,C",
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "sourcesContent": [
        "import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n  PORT: process.env.PORT || 5000,\r\n  MONGODB_URL: process.env.MONGODB_URL,\r\n  JWT_SECRET: process.env.JWT_SECRET,\r\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID,\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712308
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\userRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\userRouter.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\userRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
        "sourceFileName": "userRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userRouter = _express.default.Router();\n\nuserRouter.get('/createadmin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'admin',\n      email: 'admin@example.com',\n      password: 'jsamazona',\n      isAdmin: true\n    });\n    const createdUser = await user.save();\n    res.send(createdUser);\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n}));\nuserRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (!signinUser) {\n    res.status(401).send({\n      message: 'Invalid Email or Password'\n    });\n  } else {\n    res.send({\n      _id: signinUser._id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _utils.generateToken)(signinUser)\n    });\n  }\n}));\nuserRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const createdUser = await user.save();\n\n  if (!createdUser) {\n    res.status(401).send({\n      message: 'Invalid User Data'\n    });\n  } else {\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      token: (0, _utils.generateToken)(createdUser)\n    });\n  }\n}));\nuserRouter.put('/:id', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (!user) {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  } else {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _utils.generateToken)(updatedUser)\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwibmFtZXMiOlsidXNlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJ1c2VyIiwiVXNlciIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiaXNBZG1pbiIsImNyZWF0ZWRVc2VyIiwic2F2ZSIsInNlbmQiLCJlcnIiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsInNpZ25pblVzZXIiLCJmaW5kT25lIiwiYm9keSIsIl9pZCIsInRva2VuIiwicHV0IiwiaXNBdXRoIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsInVwZGF0ZWRVc2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxVQUFVLEdBQUdDLGlCQUFRQyxNQUFSLEVBQW5COztBQUVBRixVQUFVLENBQUNHLEdBQVgsQ0FDRSxjQURGLEVBRUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxNQUFJO0FBQ0YsVUFBTUMsSUFBSSxHQUFHLElBQUlDLGtCQUFKLENBQVM7QUFDcEJDLE1BQUFBLElBQUksRUFBRSxPQURjO0FBRXBCQyxNQUFBQSxLQUFLLEVBQUUsbUJBRmE7QUFHcEJDLE1BQUFBLFFBQVEsRUFBRSxXQUhVO0FBSXBCQyxNQUFBQSxPQUFPLEVBQUU7QUFKVyxLQUFULENBQWI7QUFNQSxVQUFNQyxXQUFXLEdBQUcsTUFBTU4sSUFBSSxDQUFDTyxJQUFMLEVBQTFCO0FBQ0FSLElBQUFBLEdBQUcsQ0FBQ1MsSUFBSixDQUFTRixXQUFUO0FBQ0QsR0FURCxDQVNFLE9BQU9HLEdBQVAsRUFBWTtBQUNaVixJQUFBQSxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCRixJQUFoQixDQUFxQjtBQUFFRyxNQUFBQSxPQUFPLEVBQUVGLEdBQUcsQ0FBQ0U7QUFBZixLQUFyQjtBQUNEO0FBQ0YsQ0FiRCxDQUZGO0FBaUJBakIsVUFBVSxDQUFDa0Is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Q0FILElBQUFBLElBQUksQ0FBQ0ksUUFBTCxHQUFnQk4sR0FBRyxDQUFDaUIsSUFBSixDQUFTWCxRQUFULElBQXFCSixJQUFJLENBQUNJLFFBQTFDO0FBQ0EsVUFBTW1CLFdBQVcsR0FBRyxNQUFNdkIsSUFBSSxDQUFDTyxJQUFMLEVBQTFCO0FBQ0FSLElBQUFBLEdBQUcsQ0FBQ1MsSUFBSixDQUFTO0FBQ1BRLE1BQUFBLEdBQUcsRUFBRU8sV0FBVyxDQUFDUCxHQURWO0FBRVBkLE1BQUFBLElBQUksRUFBRXFCLFdBQVcsQ0FBQ3JCLElBRlg7QUFHUEMsTUFBQUEsS0FBSyxFQUFFb0IsV0FBVyxDQUFDcEIsS0FIWjtBQUlQRSxNQUFBQSxPQUFPLEVBQUVrQixXQUFXLENBQUNsQixPQUpkO0FBS1BZLE1BQUFBLEtBQUssRUFBRSwwQkFBY00sV0FBZDtBQUxBLEtBQVQ7QUFPRDtBQUNGLENBcEJELENBSEY7ZUF5QmU3QixVIiwic291cmNlUm9vdCI6IkQ6XFxVc2Vyc1xcZ3VlcmlcXERvY3VtZW50c1xcLkJFU2VydmVyc1xcbm9kZS1qYXZhc2NyaXB0LWVjb21tZXJjZVxcYmFja2VuZFxccm91dGVyc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XHJcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyTW9kZWwnO1xyXG5pbXBvcnQgeyBnZW5lcmF0ZVRva2VuLCBpc0F1dGggfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5jb25zdCB1c2VyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnVzZXJSb3V0ZXIuZ2V0KFxyXG4gICcvY3JlYXRlYWRtaW4nLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xyXG4gICAgICAgIG5hbWU6ICdhZG1pbicsXHJcbiAgICAgICAgZW1haWw6ICdhZG1pbkBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgcGFzc3dvcmQ6ICdqc2FtYXpvbmEnLFxyXG4gICAgICAgIGlzQWRtaW46IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBjcmVhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG4gICAgICByZXMuc2VuZChjcmVhdGVkVXNlcik7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBlcnIubWVzc2FnZSB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG51c2VyUm91dGVyLnBvc3QoXHJcbiAgJy9zaWduaW4nLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBzaWduaW5Vc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcclxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgICB9KTtcclxuICAgIGlmICghc2lnbmluVXNlcikge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XHJcbiAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgRW1haWwgb3IgUGFzc3dvcmQnLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IHNpZ25pblVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IHNpZ25pblVzZXIubmFtZSxcclxuICAgICAgICBlbWFpbDogc2lnbmluVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4oc2lnbmluVXNlciksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pXHJcbik7XHJcbnVzZXJSb3V0ZXIucG9zdChcclxuICAnL3JlZ2lzdGVyJyxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcclxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyZWF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICBpZiAoIWNyZWF0ZWRVc2VyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcclxuICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBVc2VyIERhdGEnLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IGNyZWF0ZWRVc2VyLl9pZCxcclxuICAgICAgICBuYW1lOiBjcmVhdGVkVXNlci5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiBjcmVhdGVkVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiBjcmVhdGVkVXNlci5pc0FkbWluLFxyXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKGNyZWF0ZWRVc2VyKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxudXNlclJvdXRlci5wdXQoXHJcbiAgJy86aWQnLFxyXG4gIGlzQXV0aCxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XHJcblxyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcclxuICAgICAgICBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHVzZXIubmFtZSA9IHJlcS5ib2R5Lm5hbWUgfHwgdXNlci5uYW1lO1xyXG4gICAgICB1c2VyLmVtYWlsID0gcmVxLmJvZHkuZW1haWwgfHwgdXNlci5lbWFpbDtcclxuICAgICAgdXNlci5wYXNzd29yZCA9IHJlcS5ib2R5LnBhc3N3b3JkIHx8IHVzZXIucGFzc3dvcmQ7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IHVwZGF0ZWRVc2VyLl9pZCxcclxuICAgICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiB1cGRhdGVkVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiB1cGRhdGVkVXNlci5pc0FkbWluLFxyXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHVwZGF0ZWRVc2VyKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "userRouter.js"
      ],
      "names": [
        "userRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "user",
        "User",
        "name",
        "email",
        "password",
        "isAdmin",
        "createdUser",
        "save",
        "send",
        "err",
        "status",
        "message",
        "post",
        "signinUser",
        "findOne",
        "body",
        "_id",
        "token",
        "put",
        "isAuth",
        "findById",
        "params",
        "id",
        "updatedUser"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport expressAsyncHandler from 'express-async-handler';\r\nimport User from '../models/userModel';\r\nimport { generateToken, isAuth } from '../utils';\r\n\r\nconst userRouter = express.Router();\r\n\r\nuserRouter.get(\r\n  '/createadmin',\r\n  expressAsyncHandler(async (req, res) => {\r\n    try {\r\n      const user = new User({\r\n        name: 'admin',\r\n        email: 'admin@example.com',\r\n        password: 'jsamazona',\r\n        isAdmin: true,\r\n      });\r\n      const createdUser = await user.save();\r\n      res.send(createdUser);\r\n    } catch (err) {\r\n      res.status(500).send({ message: err.message });\r\n    }\r\n  })\r\n);\r\nuserRouter.post(\r\n  '/signin',\r\n  expressAsyncHandler(async (req, res) => {\r\n    const signinUser = await User.findOne({\r\n      email: req.body.email,\r\n      password: req.body.password,\r\n    });\r\n    if (!signinUser) {\r\n      res.status(401).send({\r\n        message: 'Invalid Email or Password',\r\n      });\r\n    } else {\r\n      res.send({\r\n        _id: signinUser._id,\r\n        name: signinUser.name,\r\n        email: signinUser.email,\r\n        isAdmin: signinUser.isAdmin,\r\n        token: generateToken(signinUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nuserRouter.post(\r\n  '/register',\r\n  expressAsyncHandler(async (req, res) => {\r\n    const user = new User({\r\n      name: req.body.name,\r\n      email: req.body.email,\r\n      password: req.body.password,\r\n    });\r\n    const createdUser = await user.save();\r\n    if (!createdUser) {\r\n      res.status(401).send({\r\n        message: 'Invalid User Data',\r\n      });\r\n    } else {\r\n      res.send({\r\n        _id: createdUser._id,\r\n        name: createdUser.name,\r\n        email: createdUser.email,\r\n        isAdmin: createdUser.isAdmin,\r\n        token: generateToken(createdUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nuserRouter.put(\r\n  '/:id',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const user = await User.findById(req.params.id);\r\n\r\n    if (!user) {\r\n      res.status(404).send({\r\n        message: 'User Not Found',\r\n      });\r\n    } else {\r\n      user.name = req.body.name || user.name;\r\n      user.email = req.body.email || user.email;\r\n      user.password = req.body.password || user.password;\r\n      const updatedUser = await user.save();\r\n      res.send({\r\n        _id: updatedUser._id,\r\n        name: updatedUser.name,\r\n        email: updatedUser.email,\r\n        isAdmin: updatedUser.isAdmin,\r\n        token: generateToken(updatedUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nexport default userRouter;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712312
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\server.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\server.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nvar _userRouter = _interopRequireDefault(require(\"./routers/userRouter\"));\n\nvar _orderRouter = _interopRequireDefault(require(\"./routers/orderRouter\"));\n\nvar _productRouter = _interopRequireDefault(require(\"./routers/productRouter\"));\n\nvar _uploadRouter = _interopRequireDefault(require(\"./routers/uploadRouter\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_mongoose.default.connect(_config.default.MONGODB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true\n}).then(() => {\n  console.log('Connected to mongodb.');\n}).catch(error => {\n  console.log(error.reason);\n});\n\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_bodyParser.default.json());\napp.use('/api/uploads', _uploadRouter.default);\napp.use('/api/users', _userRouter.default);\napp.use('/api/products', _productRouter.default);\napp.use('/api/orders', _orderRouter.default);\napp.get('/api/paypal/clientId', (req, res) => {\n  res.send({\n    clientId: _config.default.PAYPAL_CLIENT_ID\n  });\n});\napp.use('/uploads', _express.default.static(_path.default.join(__dirname, '/../uploads')));\napp.use(_express.default.static(_path.default.join(__dirname, '/../frontend')));\napp.get('*', (req, res) => {\n  res.sendFile(_path.default.join(__dirname, '/../frontend/index.html'));\n});\napp.use((err, req, res, next) => {\n  const status = err.name && err.name === 'ValidationError' ? 400 : 500;\n  res.status(status).send({\n    message: err.message\n  });\n});\napp.listen(_config.default.PORT, () => {\n  console.log('serve at http://localhost:5000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsImNvbm5lY3QiLCJjb25maWciLCJNT05HT0RCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUNyZWF0ZUluZGV4IiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwicmVhc29uIiwiYXBwIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cGxvYWRSb3V0ZXIiLCJ1c2VyUm91dGVyIiwicHJvZHVjdFJvdXRlciIsIm9yZGVyUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsImNsaWVudElkIiwiUEFZUEFMX0NMSUVOVF9JRCIsImV4cHJlc3MiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInNlbmRGaWxlIiwiZXJyIiwibmV4dCIsInN0YXR1cyIsIm5hbWUiLCJtZXNzYWdlIiwibGlzdGVuIiwiUE9SVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBQSxrQkFDR0MsT0FESCxDQUNXQyxnQkFBT0MsV0FEbEIsRUFDK0I7QUFDM0JDLEVBQUFBLGVBQWUsRUFBRSxJQURVO0FBRTNCQyxFQUFBQSxrQkFBa0IsRUFBRSxJQUZPO0FBRzNCQyxFQUFBQSxjQUFjLEVBQUU7QUFIVyxDQUQvQixFQU1HQyxJQU5ILENBTVEsTUFBTTtBQUNWQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSx1QkFBWjtBQUNELENBUkgsRUFTR0MsS0FUSCxDQVNVQyxLQUFELElBQVc7QUFDaEJILEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxLQUFLLENBQUNDLE1BQWxCO0FBQ0QsQ0FYSDs7QUFZQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsb0JBQVI7QUFDQUQsR0FBRyxDQUFDQyxHQUFKLENBQVFDLG9CQUFXQyxJQUFYLEVBQVI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVEsY0FBUixFQUF3QkcscUJBQXhCO0FBQ0FKLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFlBQVIsRUFBc0JJLG1CQUF0QjtBQUNBTCxHQUFHLENBQUNDLEdBQUosQ0FBUSxlQUFSLEVBQXlCSyxzQkFBekI7QUFDQU4sR0FBRyxDQUFDQyxHQUFKLENBQVEsYUFBUixFQUF1Qk0sb0JBQXZCO0FBQ0FQLEdBQUcsQ0FBQ1EsR0FBSixDQUFRLHNCQUFSLEVBQWdDLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQzVDQSxFQUFBQSxHQUFHLENBQUNDLElBQUosQ0FBUztBQUFFQyxJQUFBQSxRQUFRLEVBQUV2QixnQkFBT3dCO0FBQW5CLEdBQVQ7QUFDRCxDQUZEO0FBR0FiLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFVBQVIsRUFBb0JhLGlCQUFRQyxNQUFSLENBQWVDLGNBQUtDLElBQUwsQ0FBVUMsU0FBVixFQUFxQixhQUFyQixDQUFmLENBQXBCO0FBQ0FsQixHQUFHLENBQUNDLEdBQUosQ0FBUWEsaUJBQVFDLE1BQVIsQ0FBZUMsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLGNBQXJCLENBQWYsQ0FBUjtBQUNBbEIsR0FBRyxDQUFDUSxHQUFKLENBQVEsR0FBUixFQUFhLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3pCQSxFQUFBQSxHQUFHLENBQUNTLFFBQUosQ0FBYUgsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLHlCQUFyQixDQUFiO0FBQ0QsQ0FGRDtBQUdBbEIsR0FBRyxDQUFDQyxHQUFKLENBQVEsQ0FBQ21CLEdBQUQsRUFBTVgsR0FBTixFQUFXQyxHQUFYLEVBQWdCVyxJQUFoQixLQUF5QjtBQUMvQixRQUFNQyxNQUFNLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSixJQUFZSCxHQUFHLENBQUNHLElBQUosS0FBYSxpQkFBekIsR0FBNkMsR0FBN0MsR0FBbUQsR0FBbEU7QUFDQWIsRUFBQUEsR0FBRyxDQUFDWSxNQUFKLENBQVdBLE1BQVgsRUFBbUJYLElBQW5CLENBQXdCO0FBQUVhLElBQUFBLE9BQU8sRUFBRUosR0FBRyxDQUFDSTtBQUFmLEdBQXhCO0FBQ0QsQ0FIRDtBQUlBeEIsR0FBRyxDQUFDeUIsTUFBSixDQUFXcEMsZ0JBQU9xQyxJQUFsQixFQUF3QixNQUFNO0FBQzVCL0IsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0NBQVo7QUFDRCxDQUZEIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcZ3VlcmlcXERvY3VtZW50c1xcLkJFU2VydmVyc1xcbm9kZS1qYXZhc2NyaXB0LWVjb21tZXJjZVxcYmFja2VuZFxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcclxuaW1wb3J0IHVzZXJSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL3VzZXJSb3V0ZXInO1xyXG5pbXBvcnQgb3JkZXJSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL29yZGVyUm91dGVyJztcclxuaW1wb3J0IHByb2R1Y3RSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL3Byb2R1Y3RSb3V0ZXInO1xyXG5pbXBvcnQgdXBsb2FkUm91dGVyIGZyb20gJy4vcm91dGVycy91cGxvYWRSb3V0ZXInO1xyXG5cclxubW9uZ29vc2VcclxuICAuY29ubmVjdChjb25maWcuTU9OR09EQl9VUkwsIHtcclxuICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcclxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcclxuICAgIHVzZUNyZWF0ZUluZGV4OiB0cnVlLFxyXG4gIH0pXHJcbiAgLnRoZW4oKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBtb25nb2RiLicpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IucmVhc29uKTtcclxuICB9KTtcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKCcvYXBpL3VwbG9hZHMnLCB1cGxvYWRSb3V0ZXIpO1xyXG5hcHAudXNlKCcvYXBpL3VzZXJzJywgdXNlclJvdXRlcik7XHJcbmFwcC51c2UoJy9hcGkvcHJvZHVjdHMnLCBwcm9kdWN0Um91dGVyKTtcclxuYXBwLnVzZSgnL2FwaS9vcmRlcnMnLCBvcmRlclJvdXRlcik7XHJcbmFwcC5nZXQoJy9hcGkvcGF5cGFsL2NsaWVudElkJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgcmVzLnNlbmQoeyBjbGllbnRJZDogY29uZmlnLlBBWVBBTF9DTElFTlRfSUQgfSk7XHJcbn0pO1xyXG5hcHAudXNlKCcvdXBsb2FkcycsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcvLi4vdXBsb2FkcycpKSk7XHJcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy8uLi9mcm9udGVuZCcpKSk7XHJcbmFwcC5nZXQoJyonLCAocmVxLCByZXMpID0+IHtcclxuICByZXMuc2VuZEZpbGUocGF0aC5qb2luKF9fZGlybmFtZSwgJy8uLi9mcm9udGVuZC9pbmRleC5odG1sJykpO1xyXG59KTtcclxuYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGNvbnN0IHN0YXR1cyA9IGVyci5uYW1lICYmIGVyci5uYW1lID09PSAnVmFsaWRhdGlvbkVycm9yJyA/IDQwMCA6IDUwMDtcclxuICByZXMuc3RhdHVzKHN0YXR1cykuc2VuZCh7IG1lc3NhZ2U6IGVyci5tZXNzYWdlIH0pO1xyXG59KTtcclxuYXBwLmxpc3Rlbihjb25maWcuUE9SVCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdzZXJ2ZSBhdCBodHRwOi8vbG9jYWxob3N0OjUwMDAnKTtcclxufSk7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "mongoose",
        "connect",
        "config",
        "MONGODB_URL",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useCreateIndex",
        "then",
        "console",
        "log",
        "catch",
        "error",
        "reason",
        "app",
        "use",
        "bodyParser",
        "json",
        "uploadRouter",
        "userRouter",
        "productRouter",
        "orderRouter",
        "get",
        "req",
        "res",
        "send",
        "clientId",
        "PAYPAL_CLIENT_ID",
        "express",
        "static",
        "path",
        "join",
        "__dirname",
        "sendFile",
        "err",
        "next",
        "status",
        "name",
        "message",
        "listen",
        "PORT"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEAA,kBACGC,OADH,CACWC,gBAAOC,WADlB,EAC+B;AAC3BC,EAAAA,eAAe,EAAE,IADU;AAE3BC,EAAAA,kBAAkB,EAAE,IAFO;AAG3BC,EAAAA,cAAc,EAAE;AAHW,CAD/B,EAMGC,IANH,CAMQ,MAAM;AACVC,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACD,CARH,EASGC,KATH,CASUC,KAAD,IAAW;AAChBH,EAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACC,MAAlB;AACD,CAXH;;AAYA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBG,qBAAxB;AACAJ,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBI,mBAAtB;AACAL,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyBK,sBAAzB;AACAN,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuBM,oBAAvB;AACAP,GAAG,CAACQ,GAAJ,CAAQ,sBAAR,EAAgC,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC5CA,EAAAA,GAAG,CAACC,IAAJ,CAAS;AAAEC,IAAAA,QAAQ,EAAEvB,gBAAOwB;AAAnB,GAAT;AACD,CAFD;AAGAb,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBa,iBAAQC,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,aAArB,CAAf,CAApB;AACAlB,GAAG,CAACC,GAAJ,CAAQa,iBAAQC,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,cAArB,CAAf,CAAR;AACAlB,GAAG,CAACQ,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACzBA,EAAAA,GAAG,CAACS,QAAJ,CAAaH,cAAKC,IAAL,CAAUC,SAAV,EAAqB,yBAArB,CAAb;AACD,CAFD;AAGAlB,GAAG,CAACC,GAAJ,CAAQ,CAACmB,GAAD,EAAMX,GAAN,EAAWC,GAAX,EAAgBW,IAAhB,KAAyB;AAC/B,QAAMC,MAAM,GAAGF,GAAG,CAACG,IAAJ,IAAYH,GAAG,CAACG,IAAJ,KAAa,iBAAzB,GAA6C,GAA7C,GAAmD,GAAlE;AACAb,EAAAA,GAAG,CAACY,MAAJ,CAAWA,MAAX,EAAmBX,IAAnB,CAAwB;AAAEa,IAAAA,OAAO,EAAEJ,GAAG,CAACI;AAAf,GAAxB;AACD,CAHD;AAIAxB,GAAG,CAACyB,MAAJ,CAAWpC,gBAAOqC,IAAlB,EAAwB,MAAM;AAC5B/B,EAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACD,CAFD",
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport cors from 'cors';\r\nimport mongoose from 'mongoose';\r\nimport bodyParser from 'body-parser';\r\nimport path from 'path';\r\nimport config from './config';\r\nimport userRouter from './routers/userRouter';\r\nimport orderRouter from './routers/orderRouter';\r\nimport productRouter from './routers/productRouter';\r\nimport uploadRouter from './routers/uploadRouter';\r\n\r\nmongoose\r\n  .connect(config.MONGODB_URL, {\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true,\r\n    useCreateIndex: true,\r\n  })\r\n  .then(() => {\r\n    console.log('Connected to mongodb.');\r\n  })\r\n  .catch((error) => {\r\n    console.log(error.reason);\r\n  });\r\nconst app = express();\r\napp.use(cors());\r\napp.use(bodyParser.json());\r\napp.use('/api/uploads', uploadRouter);\r\napp.use('/api/users', userRouter);\r\napp.use('/api/products', productRouter);\r\napp.use('/api/orders', orderRouter);\r\napp.get('/api/paypal/clientId', (req, res) => {\r\n  res.send({ clientId: config.PAYPAL_CLIENT_ID });\r\n});\r\napp.use('/uploads', express.static(path.join(__dirname, '/../uploads')));\r\napp.use(express.static(path.join(__dirname, '/../frontend')));\r\napp.get('*', (req, res) => {\r\n  res.sendFile(path.join(__dirname, '/../frontend/index.html'));\r\n});\r\napp.use((err, req, res, next) => {\r\n  const status = err.name && err.name === 'ValidationError' ? 400 : 500;\r\n  res.status(status).send({ message: err.message });\r\n});\r\napp.listen(config.PORT, () => {\r\n  console.log('serve at http://localhost:5000');\r\n});\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712312
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\config.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\config.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL,\n  JWT_SECRET: process.env.JWT_SECRET,\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsIlBBWVBBTF9DTElFTlRfSUQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBQSxnQkFBT0MsTUFBUDs7ZUFFZTtBQUNiQyxFQUFBQSxJQUFJLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixJQUFaLElBQW9CLElBRGI7QUFFYkcsRUFBQUEsV0FBVyxFQUFFRixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FGWjtBQUdiQyxFQUFBQSxVQUFVLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxVQUhYO0FBSWJDLEVBQUFBLGdCQUFnQixFQUFFSixPQUFPLENBQUNDLEdBQVIsQ0FBWUc7QUFKakIsQyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGd1ZXJpXFxEb2N1bWVudHNcXC5CRVNlcnZlcnNcXG5vZGUtamF2YXNjcmlwdC1lY29tbWVyY2VcXGJhY2tlbmRcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBQT1JUOiBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDAsXHJcbiAgTU9OR09EQl9VUkw6IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMLFxyXG4gIEpXVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsXHJcbiAgUEFZUEFMX0NMSUVOVF9JRDogcHJvY2Vzcy5lbnYuUEFZUEFMX0NMSUVOVF9JRCxcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "dotenv",
        "config",
        "PORT",
        "process",
        "env",
        "MONGODB_URL",
        "JWT_SECRET",
        "PAYPAL_CLIENT_ID"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEAA,gBAAOC,MAAP;;eAEe;AACbC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IADb;AAEbG,EAAAA,WAAW,EAAEF,OAAO,CAACC,GAAR,CAAYC,WAFZ;AAGbC,EAAAA,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYE,UAHX;AAIbC,EAAAA,gBAAgB,EAAEJ,OAAO,CAACC,GAAR,CAAYG;AAJjB,C",
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "sourcesContent": [
        "import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n  PORT: process.env.PORT || 5000,\r\n  MONGODB_URL: process.env.MONGODB_URL,\r\n  JWT_SECRET: process.env.JWT_SECRET,\r\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID,\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712308
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\userRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\userRouter.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\userRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
        "sourceFileName": "userRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userRouter = _express.default.Router();\n\nuserRouter.get('/createadmin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'admin',\n      email: 'admin@example.com',\n      password: 'jsamazona',\n      isAdmin: true\n    });\n    const createdUser = await user.save();\n    res.send(createdUser);\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n}));\nuserRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (!signinUser) {\n    res.status(401).send({\n      message: 'Invalid Email or Password'\n    });\n  } else {\n    res.send({\n      _id: signinUser._id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _utils.generateToken)(signinUser)\n    });\n  }\n}));\nuserRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const createdUser = await user.save();\n\n  if (!createdUser) {\n    res.status(401).send({\n      message: 'Invalid User Data'\n    });\n  } else {\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      token: (0, _utils.generateToken)(createdUser)\n    });\n  }\n}));\nuserRouter.put('/:id', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (!user) {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  } else {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _utils.generateToken)(updatedUser)\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwibmFtZXMiOlsidXNlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJ1c2VyIiwiVXNlciIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiaXNBZG1pbiIsImNyZWF0ZWRVc2VyIiwic2F2ZSIsInNlbmQiLCJlcnIiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsInNpZ25pblVzZXIiLCJmaW5kT25lIiwiYm9keSIsIl9pZCIsInRva2VuIiwicHV0IiwiaXNBdXRoIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsInVwZGF0ZWRVc2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxVQUFVLEdBQUdDLGlCQUFRQyxNQUFSLEVBQW5COztBQUVBRixVQUFVLENBQUNHLEdBQVgsQ0FDRSxjQURGLEVBRUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxNQUFJO0FBQ0YsVUFBTUMsSUFBSSxHQUFHLElBQUlDLGtCQUFKLENBQVM7QUFDcEJDLE1BQUFBLElBQUksRUFBRSxPQURjO0FBRXBCQyxNQUFBQSxLQUFLLEVBQUUsbUJBRmE7QUFHcEJDLE1BQUFBLFFBQVEsRUFBRSxXQUhVO0FBSXBCQyxNQUFBQSxPQUFPLEVBQUU7QUFKVyxLQUFULENBQWI7QUFNQSxVQUFNQyxXQUFXLEdBQUcsTUFBTU4sSUFBSSxDQUFDTyxJQUFMLEVBQTFCO0FBQ0FSLElBQUFBLEdBQUcsQ0FBQ1MsSUFBSixDQUFTRixXQUFUO0FBQ0QsR0FURCxDQVNFLE9BQU9HLEdBQVAsRUFBWTtBQUNaVixJQUFBQSxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCRixJQUFoQixDQUFxQjtBQUFFRyxNQUFBQSxPQUFPLEVBQUVGLEdBQUcsQ0FBQ0U7QUFBZixLQUFyQjtBQUNEO0FBQ0YsQ0FiRCxDQUZGO0FBaUJBakIsVUFBVSxDQUFDa0Is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Q0FILElBQUFBLElBQUksQ0FBQ0ksUUFBTCxHQUFnQk4sR0FBRyxDQUFDaUIsSUFBSixDQUFTWCxRQUFULElBQXFCSixJQUFJLENBQUNJLFFBQTFDO0FBQ0EsVUFBTW1CLFdBQVcsR0FBRyxNQUFNdkIsSUFBSSxDQUFDTyxJQUFMLEVBQTFCO0FBQ0FSLElBQUFBLEdBQUcsQ0FBQ1MsSUFBSixDQUFTO0FBQ1BRLE1BQUFBLEdBQUcsRUFBRU8sV0FBVyxDQUFDUCxHQURWO0FBRVBkLE1BQUFBLElBQUksRUFBRXFCLFdBQVcsQ0FBQ3JCLElBRlg7QUFHUEMsTUFBQUEsS0FBSyxFQUFFb0IsV0FBVyxDQUFDcEIsS0FIWjtBQUlQRSxNQUFBQSxPQUFPLEVBQUVrQixXQUFXLENBQUNsQixPQUpkO0FBS1BZLE1BQUFBLEtBQUssRUFBRSwwQkFBY00sV0FBZDtBQUxBLEtBQVQ7QUFPRDtBQUNGLENBcEJELENBSEY7ZUF5QmU3QixVIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcZ3VlcmlcXERvY3VtZW50c1xcLkJFU2VydmVyc1xcbm9kZS1qYXZhc2NyaXB0LWVjb21tZXJjZVxcYmFja2VuZFxccm91dGVyc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XHJcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyTW9kZWwnO1xyXG5pbXBvcnQgeyBnZW5lcmF0ZVRva2VuLCBpc0F1dGggfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5jb25zdCB1c2VyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnVzZXJSb3V0ZXIuZ2V0KFxyXG4gICcvY3JlYXRlYWRtaW4nLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xyXG4gICAgICAgIG5hbWU6ICdhZG1pbicsXHJcbiAgICAgICAgZW1haWw6ICdhZG1pbkBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgcGFzc3dvcmQ6ICdqc2FtYXpvbmEnLFxyXG4gICAgICAgIGlzQWRtaW46IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBjcmVhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG4gICAgICByZXMuc2VuZChjcmVhdGVkVXNlcik7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBlcnIubWVzc2FnZSB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG51c2VyUm91dGVyLnBvc3QoXHJcbiAgJy9zaWduaW4nLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBzaWduaW5Vc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcclxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgICB9KTtcclxuICAgIGlmICghc2lnbmluVXNlcikge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XHJcbiAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgRW1haWwgb3IgUGFzc3dvcmQnLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IHNpZ25pblVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IHNpZ25pblVzZXIubmFtZSxcclxuICAgICAgICBlbWFpbDogc2lnbmluVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4oc2lnbmluVXNlciksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pXHJcbik7XHJcbnVzZXJSb3V0ZXIucG9zdChcclxuICAnL3JlZ2lzdGVyJyxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcclxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyZWF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICBpZiAoIWNyZWF0ZWRVc2VyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcclxuICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBVc2VyIERhdGEnLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IGNyZWF0ZWRVc2VyLl9pZCxcclxuICAgICAgICBuYW1lOiBjcmVhdGVkVXNlci5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiBjcmVhdGVkVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiBjcmVhdGVkVXNlci5pc0FkbWluLFxyXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKGNyZWF0ZWRVc2VyKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxudXNlclJvdXRlci5wdXQoXHJcbiAgJy86aWQnLFxyXG4gIGlzQXV0aCxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XHJcblxyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcclxuICAgICAgICBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHVzZXIubmFtZSA9IHJlcS5ib2R5Lm5hbWUgfHwgdXNlci5uYW1lO1xyXG4gICAgICB1c2VyLmVtYWlsID0gcmVxLmJvZHkuZW1haWwgfHwgdXNlci5lbWFpbDtcclxuICAgICAgdXNlci5wYXNzd29yZCA9IHJlcS5ib2R5LnBhc3N3b3JkIHx8IHVzZXIucGFzc3dvcmQ7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IHVwZGF0ZWRVc2VyLl9pZCxcclxuICAgICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiB1cGRhdGVkVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiB1cGRhdGVkVXNlci5pc0FkbWluLFxyXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHVwZGF0ZWRVc2VyKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "userRouter.js"
      ],
      "names": [
        "userRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "user",
        "User",
        "name",
        "email",
        "password",
        "isAdmin",
        "createdUser",
        "save",
        "send",
        "err",
        "status",
        "message",
        "post",
        "signinUser",
        "findOne",
        "body",
        "_id",
        "token",
        "put",
        "isAuth",
        "findById",
        "params",
        "id",
        "updatedUser"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport expressAsyncHandler from 'express-async-handler';\r\nimport User from '../models/userModel';\r\nimport { generateToken, isAuth } from '../utils';\r\n\r\nconst userRouter = express.Router();\r\n\r\nuserRouter.get(\r\n  '/createadmin',\r\n  expressAsyncHandler(async (req, res) => {\r\n    try {\r\n      const user = new User({\r\n        name: 'admin',\r\n        email: 'admin@example.com',\r\n        password: 'jsamazona',\r\n        isAdmin: true,\r\n      });\r\n      const createdUser = await user.save();\r\n      res.send(createdUser);\r\n    } catch (err) {\r\n      res.status(500).send({ message: err.message });\r\n    }\r\n  })\r\n);\r\nuserRouter.post(\r\n  '/signin',\r\n  expressAsyncHandler(async (req, res) => {\r\n    const signinUser = await User.findOne({\r\n      email: req.body.email,\r\n      password: req.body.password,\r\n    });\r\n    if (!signinUser) {\r\n      res.status(401).send({\r\n        message: 'Invalid Email or Password',\r\n      });\r\n    } else {\r\n      res.send({\r\n        _id: signinUser._id,\r\n        name: signinUser.name,\r\n        email: signinUser.email,\r\n        isAdmin: signinUser.isAdmin,\r\n        token: generateToken(signinUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nuserRouter.post(\r\n  '/register',\r\n  expressAsyncHandler(async (req, res) => {\r\n    const user = new User({\r\n      name: req.body.name,\r\n      email: req.body.email,\r\n      password: req.body.password,\r\n    });\r\n    const createdUser = await user.save();\r\n    if (!createdUser) {\r\n      res.status(401).send({\r\n        message: 'Invalid User Data',\r\n      });\r\n    } else {\r\n      res.send({\r\n        _id: createdUser._id,\r\n        name: createdUser.name,\r\n        email: createdUser.email,\r\n        isAdmin: createdUser.isAdmin,\r\n        token: generateToken(createdUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nuserRouter.put(\r\n  '/:id',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const user = await User.findById(req.params.id);\r\n\r\n    if (!user) {\r\n      res.status(404).send({\r\n        message: 'User Not Found',\r\n      });\r\n    } else {\r\n      user.name = req.body.name || user.name;\r\n      user.email = req.body.email || user.email;\r\n      user.password = req.body.password || user.password;\r\n      const updatedUser = await user.save();\r\n      res.send({\r\n        _id: updatedUser._id,\r\n        name: updatedUser.name,\r\n        email: updatedUser.email,\r\n        isAdmin: updatedUser.isAdmin,\r\n        token: generateToken(updatedUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nexport default userRouter;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712312
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\models\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\userModel.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\userModel.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\userModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
        "sourceFileName": "userModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    index: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\n\nconst User = _mongoose.default.model('User', userSchema);\n\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJpbmRleCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiaXNBZG1pbiIsIkJvb2xlYW4iLCJkZWZhdWx0IiwiVXNlciIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDckNDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUQrQjtBQUVyQ0MsRUFBQUEsS0FBSyxFQUFFO0FBQ0xILElBQUFBLElBQUksRUFBRUMsTUFERDtBQUVMQyxJQUFBQSxRQUFRLEVBQUUsSUFGTDtBQUdMRSxJQUFBQSxLQUFLLEVBQUUsSUFIRjtBQUlMQyxJQUFBQSxNQUFNLEVBQUU7QUFKSCxHQUY4QjtBQVFyQ0MsRUFBQUEsUUFBUSxFQUFFO0FBQUVOLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBUjJCO0FBU3JDSyxFQUFBQSxPQUFPLEVBQUU7QUFBRVAsSUFBQUEsSUFBSSxFQUFFUSxPQUFSO0FBQWlCTixJQUFBQSxRQUFRLEVBQUUsSUFBM0I7QUFBaUNPLElBQUFBLE9BQU8sRUFBRTtBQUExQztBQVQ0QixDQUFwQixDQUFuQjs7QUFXQSxNQUFNQyxJQUFJLEdBQUdiLGtCQUFTYyxLQUFULENBQWUsTUFBZixFQUF1QmYsVUFBdkIsQ0FBYjs7ZUFDZWMsSSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGd1ZXJpXFxEb2N1bWVudHNcXC5CRVNlcnZlcnNcXG5vZGUtamF2YXNjcmlwdC1lY29tbWVyY2VcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBlbWFpbDoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICBpbmRleDogdHJ1ZSxcclxuICAgIHVuaXF1ZTogdHJ1ZSxcclxuICB9LFxyXG4gIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBpc0FkbWluOiB7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG59KTtcclxuY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgdXNlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFVzZXI7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userModel.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "index",
        "unique",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "User",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD+B;AAErCC,EAAAA,KAAK,EAAE;AACLH,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE,IAFL;AAGLE,IAAAA,KAAK,EAAE,IAHF;AAILC,IAAAA,MAAM,EAAE;AAJH,GAF8B;AAQrCC,EAAAA,QAAQ,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAR2B;AASrCK,EAAAA,OAAO,EAAE;AAAEP,IAAAA,IAAI,EAAEQ,OAAR;AAAiBN,IAAAA,QAAQ,EAAE,IAA3B;AAAiCO,IAAAA,OAAO,EAAE;AAA1C;AAT4B,CAApB,CAAnB;;AAWA,MAAMC,IAAI,GAAGb,kBAASc,KAAT,CAAe,MAAf,EAAuBf,UAAvB,CAAb;;eACec,I",
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\n\r\nconst userSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  email: {\r\n    type: String,\r\n    required: true,\r\n    index: true,\r\n    unique: true,\r\n  },\r\n  password: { type: String, required: true },\r\n  isAdmin: { type: Boolean, required: true, default: false },\r\n});\r\nconst User = mongoose.model('User', userSchema);\r\nexport default User;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712310
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\utils.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\utils.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAdmin = exports.isAuth = exports.generateToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET);\n};\n\nexports.generateToken = generateToken;\n\nconst isAuth = (req, res, next) => {\n  const bearerToken = req.headers.authorization;\n\n  if (!bearerToken) {\n    res.status(401).send({\n      message: 'Token is not supplied'\n    });\n  } else {\n    const token = bearerToken.slice(7, bearerToken.length);\n\n    _jsonwebtoken.default.verify(token, _config.default.JWT_SECRET, (err, data) => {\n      if (err) {\n        res.status(401).send({\n          message: 'Invalid Token'\n        });\n      } else {\n        req.user = data;\n        next();\n      }\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Token is not valid for admin user'\n    });\n  }\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImdlbmVyYXRlVG9rZW4iLCJ1c2VyIiwiand0Iiwic2lnbiIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJjb25maWciLCJKV1RfU0VDUkVUIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsImJlYXJlclRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInRva2VuIiwic2xpY2UiLCJsZW5ndGgiLCJ2ZXJpZnkiLCJlcnIiLCJkYXRhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFTyxNQUFNQSxhQUFhLEdBQUlDLElBQUQsSUFBVTtBQUNyQyxTQUFPQyxzQkFBSUMsSUFBSixDQUNMO0FBQ0VDLElBQUFBLEdBQUcsRUFBRUgsSUFBSSxDQUFDRyxHQURaO0FBRUVDLElBQUFBLElBQUksRUFBRUosSUFBSSxDQUFDSSxJQUZiO0FBR0VDLElBQUFBLEtBQUssRUFBRUwsSUFBSSxDQUFDSyxLQUhkO0FBSUVDLElBQUFBLE9BQU8sRUFBRU4sSUFBSSxDQUFDTTtBQUpoQixHQURLLEVBT0xDLGdCQUFPQyxVQVBGLENBQVA7QUFTRCxDQVZNOzs7O0FBV0EsTUFBTUMsTUFBTSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3hDLFFBQU1DLFdBQVcsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVlDLGFBQWhDOztBQUNBLE1BQUksQ0FBQ0YsV0FBTCxFQUFrQjtBQUNoQkYsSUFBQUEsR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRCxHQUZELE1BRU87QUFDTCxVQUFNQyxLQUFLLEdBQUdOLFdBQVcsQ0FBQ08sS0FBWixDQUFrQixDQUFsQixFQUFxQlAsV0FBVyxDQUFDUSxNQUFqQyxDQUFkOztBQUNBcEIsMEJBQUlxQixNQUFKLENBQVdILEtBQVgsRUFBa0JaLGdCQUFPQyxVQUF6QixFQUFxQyxDQUFDZSxHQUFELEVBQU1DLElBQU4sS0FBZTtBQUNsRCxVQUFJRCxHQUFKLEVBQVM7QUFDUFosUUFBQUEsR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsVUFBQUEsT0FBTyxFQUFFO0FBQVgsU0FBckI7QUFDRCxPQUZELE1BRU87QUFDTFIsUUFBQUEsR0FBRyxDQUFDVixJQUFKLEdBQVd3QixJQUFYO0FBQ0FaLFFBQUFBLElBQUk7QUFDTDtBQUNGLEtBUEQ7QUFRRDtBQUNGLENBZk07Ozs7QUFnQkEsTUFBTU4sT0FBTyxHQUFHLENBQUNJLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3pDLE1BQUlGLEdBQUcsQ0FBQ1YsSUFBSixJQUFZVSxHQUFHLENBQUNWLElBQUosQ0FBU00sT0FBekIsRUFBa0M7QUFDaENNLElBQUFBLElBQUk7QUFDTCxHQUZELE1BRU87QUFDTEQsSUFBQUEsR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBTk0iLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxndWVyaVxcRG9jdW1lbnRzXFwuQkVTZXJ2ZXJzXFxub2RlLWphdmFzY3JpcHQtZWNvbW1lcmNlXFxiYWNrZW5kXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlVG9rZW4gPSAodXNlcikgPT4ge1xyXG4gIHJldHVybiBqd3Quc2lnbihcclxuICAgIHtcclxuICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgbmFtZTogdXNlci5uYW1lLFxyXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgaXNBZG1pbjogdXNlci5pc0FkbWluLFxyXG4gICAgfSxcclxuICAgIGNvbmZpZy5KV1RfU0VDUkVUXHJcbiAgKTtcclxufTtcclxuZXhwb3J0IGNvbnN0IGlzQXV0aCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGNvbnN0IGJlYXJlclRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbjtcclxuICBpZiAoIWJlYXJlclRva2VuKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdUb2tlbiBpcyBub3Qgc3VwcGxpZWQnIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCB0b2tlbiA9IGJlYXJlclRva2VuLnNsaWNlKDcsIGJlYXJlclRva2VuLmxlbmd0aCk7XHJcbiAgICBqd3QudmVyaWZ5KHRva2VuLCBjb25maWcuSldUX1NFQ1JFVCwgKGVyciwgZGF0YSkgPT4ge1xyXG4gICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBUb2tlbicgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVxLnVzZXIgPSBkYXRhO1xyXG4gICAgICAgIG5leHQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgY29uc3QgaXNBZG1pbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XHJcbiAgICBuZXh0KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ1Rva2VuIGlzIG5vdCB2YWxpZCBmb3IgYWRtaW4gdXNlcicgfSk7XHJcbiAgfVxyXG59O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "generateToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "config",
        "JWT_SECRET",
        "isAuth",
        "req",
        "res",
        "next",
        "bearerToken",
        "headers",
        "authorization",
        "status",
        "send",
        "message",
        "token",
        "slice",
        "length",
        "verify",
        "err",
        "data"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,aAAa,GAAIC,IAAD,IAAU;AACrC,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADZ;AAEEC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFb;AAGEC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHd;AAIEC,IAAAA,OAAO,EAAEN,IAAI,CAACM;AAJhB,GADK,EAOLC,gBAAOC,UAPF,CAAP;AASD,CAVM;;;;AAWA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACxC,QAAMC,WAAW,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAhC;;AACA,MAAI,CAACF,WAAL,EAAkB;AAChBF,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD,GAFD,MAEO;AACL,UAAMC,KAAK,GAAGN,WAAW,CAACO,KAAZ,CAAkB,CAAlB,EAAqBP,WAAW,CAACQ,MAAjC,CAAd;;AACApB,0BAAIqB,MAAJ,CAAWH,KAAX,EAAkBZ,gBAAOC,UAAzB,EAAqC,CAACe,GAAD,EAAMC,IAAN,KAAe;AAClD,UAAID,GAAJ,EAAS;AACPZ,QAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB;AACD,OAFD,MAEO;AACLR,QAAAA,GAAG,CAACV,IAAJ,GAAWwB,IAAX;AACAZ,QAAAA,IAAI;AACL;AACF,KAPD;AAQD;AACF,CAfM;;;;AAgBA,MAAMN,OAAO,GAAG,CAACI,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzC,MAAIF,GAAG,CAACV,IAAJ,IAAYU,GAAG,CAACV,IAAJ,CAASM,OAAzB,EAAkC;AAChCM,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM",
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\r\nimport config from './config';\r\n\r\nexport const generateToken = (user) => {\r\n  return jwt.sign(\r\n    {\r\n      _id: user._id,\r\n      name: user.name,\r\n      email: user.email,\r\n      isAdmin: user.isAdmin,\r\n    },\r\n    config.JWT_SECRET\r\n  );\r\n};\r\nexport const isAuth = (req, res, next) => {\r\n  const bearerToken = req.headers.authorization;\r\n  if (!bearerToken) {\r\n    res.status(401).send({ message: 'Token is not supplied' });\r\n  } else {\r\n    const token = bearerToken.slice(7, bearerToken.length);\r\n    jwt.verify(token, config.JWT_SECRET, (err, data) => {\r\n      if (err) {\r\n        res.status(401).send({ message: 'Invalid Token' });\r\n      } else {\r\n        req.user = data;\r\n        next();\r\n      }\r\n    });\r\n  }\r\n};\r\nexport const isAdmin = (req, res, next) => {\r\n  if (req.user && req.user.isAdmin) {\r\n    next();\r\n  } else {\r\n    res.status(401).send({ message: 'Token is not valid for admin user' });\r\n  }\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712312
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\orderRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\orderRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\orderRouter.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\orderRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
        "sourceFileName": "orderRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utils = require(\"../utils\");\n\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router();\n\norderRouter.get('/summary', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numOrders: {\n        $sum: 1\n      },\n      totalSales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const users = await _userModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numUsers: {\n        $sum: 1\n      }\n    }\n  }]);\n  const dailyOrders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: {\n        $dateToString: {\n          format: '%Y-%m-%d',\n          date: '$createdAt'\n        }\n      },\n      orders: {\n        $sum: 1\n      },\n      sales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const productCategories = await _productModel.default.aggregate([{\n    $group: {\n      _id: '$category',\n      count: {\n        $sum: 1\n      }\n    }\n  }]);\n  res.send({\n    users,\n    orders: orders.length === 0 ? [{\n      numOrders: 0,\n      totalSales: 0\n    }] : orders,\n    dailyOrders,\n    productCategories\n  });\n}));\norderRouter.get('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n}));\norderRouter.get('/mine', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.get('/:id', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.post('/', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const createdOrder = await order.save();\n  res.status(201).send({\n    message: 'New Order Created',\n    order: createdOrder\n  });\n}));\norderRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send({\n      message: 'Order Deleted',\n      product: deletedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put('/:id/pay', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment.paymentResult = {\n      payerID: req.body.payerID,\n      paymentID: req.body.paymentID,\n      orderID: req.body.orderID\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found.'\n    });\n  }\n}));\norderRouter.put('/:id/deliver', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isDelivered = true;\n    order.deliveredAt = Date.now();\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Delivered',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found.'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVyLmpzIl0sIm5hbWVzIjpbIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsImlzQWRtaW4iLCJyZXEiLCJyZXMiLCJvcmRlcnMiLCJPcmRlciIsImFnZ3JlZ2F0ZSIsIiRncm91cCIsIl9pZCIsIm51bU9yZGVycyIsIiRzdW0iLCJ0b3RhbFNhbGVzIiwidXNlcnMiLCJVc2VyIiwibnVtVXNlcnMiLCJkYWlseU9yZGVycyIsIiRkYXRlVG9TdHJpbmciLCJmb3JtYXQiLCJkYXRlIiwic2FsZXMiLCJwcm9kdWN0Q2F0ZWdvcmllcyIsIlByb2R1Y3QiLCJjb3VudCIsInNlbmQiLCJsZW5ndGgiLCJmaW5kIiwicG9wdWxhdGUiLCJ1c2VyIiwib3JkZXIiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJvcmRlckl0ZW1zIiwiYm9keSIsInNoaXBwaW5nIiwicGF5bWVudCIsIml0ZW1zUHJpY2UiLCJ0YXhQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0b3RhbFByaWNlIiwiY3JlYXRlZE9yZGVyIiwic2F2ZSIsImRlbGV0ZSIsImRlbGV0ZWRPcmRlciIsInJlbW92ZSIsInByb2R1Y3QiLCJwdXQiLCJpc1BhaWQiLCJwYWlkQXQiLCJEYXRlIiwibm93IiwicGF5bWVudFJlc3VsdCIsInBheWVySUQiLCJwYXltZW50SUQiLCJvcmRlcklEIiwidXBkYXRlZE9yZGVyIiwiaXNEZWxpdmVyZWQiLCJkZWxpdmVyZWRBdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsV0FBVyxHQUFHQyxpQkFBUUMsTUFBUixFQUFwQjs7QUFDQUYsV0FBVyxDQUFDRyxHQUFaLENBQ0UsVUFERixFQUVFQyxhQUZGLEVBR0VDLGNBSEYsRUFJRSxrQ0FBb0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1DLE1BQU0sR0FBRyxNQUFNQyxvQkFBTUMsU0FBTixDQUFnQixDQUNuQztBQUNFQyxJQUFBQSxNQUFNLEVBQUU7QUFDTkMsTUFBQUEsR0FBRyxFQUFFLElBREM7QUFFTkMsTUFBQUEsU0FBUyxFQUFFO0FBQUVDLFFBQUFBLElBQUksRUFBRTtBQUFSLE9BRkw7QUFHTkMsTUFBQUEsVUFBVSxFQUFFO0FBQUVELFFBQUFBLElBQUksRUFBRTtBQUFSO0FBSE47QUFEVixHQURtQyxDQUFoQixDQUFyQjtBQVNBLFFBQU1FLEtBQUssR0FBRyxNQUFNQyxtQkFBS1AsU0FBTCxDQUFlLENBQ2pDO0FBQ0VDLElBQUFBLE1BQU0sRUFBRTtBQUNOQyxNQUFBQSxHQUFHLEVBQUUsSUFEQztBQUVOTSxNQUFBQSxRQUFRLEVBQUU7QUFBRUosUUFBQUEsSUFBSSxFQUFFO0FBQVI7QUFGSjtBQURWLEdBRGlDLENBQWYsQ0FBcEI7QUFRQSxRQUFNSyxXQUFXLEdBQUcsTUFBTVYsb0JBQU1DLFNBQU4sQ0FBZ0IsQ0FDeEM7QUFDRUMsSUFBQUEsTUFBTSxFQUFFO0FBQ05DLE1BQUFBLEdBQUcsRUFBRTtBQUFFUSxRQUFBQSxhQUFhLEVBQUU7QUFBRUMsVUFBQUEsTUFBTSxFQUFFLFVBQVY7QUFBc0JDLFVBQUFBLElBQUksRUFBRTtBQUE1QjtBQUFqQixPQURDO0FBRU5kLE1BQUFBLE1BQU0sRUFBRTtBQUFFTSxRQUFBQSxJQUFJLEVBQUU7QUFBUixPQUZGO0FBR05TLE1BQUFBLEtBQUssRUFBRTtBQUFFVCxRQUFBQSxJQUFJLEVBQUU7QUFBUjtBQUhEO0FBRFYsR0FEd0MsQ0FBaEIsQ0FBMUI7QUFTQSxRQUFNVSxpQkFBaUIsR0FBRyxNQUFNQyxzQkFBUWYsU0FBUixDQUFrQixDQUNoRDtBQUNFQyxJQUFBQSxNQUFNLEVBQUU7QUFDTkMsTUFBQUEsR0FBRyxFQUFFLFdBREM7QUFFTmMsTUFBQUEsS0FBSyxFQUFFO0FBQUVaLFFBQUFBLElBQUksRUFBRTtBQUFSO0FBRkQ7QUFEVixHQURnRCxDQUFsQixDQUFoQztBQVFBUCxFQUFBQSxHQUFHLENBQUNvQixJQUFKLENBQVM7QUFDUFgsSUFBQUEsS0FETztBQUVQUixJQUFBQSxNQUFNLEVBQUVBLE1BQU0sQ0FBQ29CLE1BQVAsS0FBa0IsQ0FBbEIsR0FBc0IsQ0FBQztBQUFFZixNQUFBQSxTQUFTLEVBQUUsQ0FBYjtBQUFnQkUsTUFBQUEsVUFBVSxFQUFFO0FBQTVCLEtBQUQsQ0FBdEIsR0FBMERQLE1BRjNEO0FBR1BXLElBQUFBLFdBSE87QUFJUEssSUFBQUE7QUFKTyxHQUFUO0FBTUQsQ0F6Q0QsQ0FKRjtBQStDQXhCLFdBQVcsQ0FBQ0csR0FBWixDQUNFLEdBREYsRUFFRUMsYUFGRixFQUdFQyxjQUhGLEVBSUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNQyxNQUFNLEdBQUcsTUFBTUMsb0JBQU1vQixJQUFOLENBQVcsRUFBWCxFQUFlQyxRQUFmLENBQXdCLE1BQXhCLENBQXJCO0FBQ0F2QixFQUFBQSxHQUFHLENBQUNvQixJQUFKLENBQVNuQixNQUFUO0FBQ0QsQ0FIRCxDQUpGO0FBVUFSLFdBQVcsQ0FBQ0csR0FBWixDQUNFLE9BREYsRUFFRUMsYUFGRixFQUdFLGtDQUFvQixPQUFPRSxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLG9CQUFNb0IsSUFBTixDQUFXO0FBQUVFLElBQUFBLElBQUksRUFBRXpCLEdBQUcsQ0FBQ3lCLElBQUosQ0FBU25CO0FBQWpCLEdBQVgsQ0FBckI7QUFDQUwsRUFBQUEsR0FBRyxDQUFDb0IsSUFBSixDQUFTbkIsTUFBVDtBQUNELENBSEQsQ0FIRjtBQVFBUixXQUFXLENBQUNHLEdBQVosQ0FDRSxNQURGLEVBRUVDLGFBRkYsRUFHRSxrQ0FBb0IsT0FBT0UsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU15QixLQUFLLEdBQUcsTUFBTXZCLG9CQUFNd0IsUUFBTixDQUFlM0IsR0FBRyxDQUFDNEIsTUFBSixDQUFXQyxFQUExQixDQUFwQjs7QUFDQSxNQUFJSCxLQUFKLEVBQVc7QUFDVHpCLElBQUFBLEdBQUcsQ0FBQ29CLElBQUosQ0FBU0ssS0FBVDtBQUNELEdBRkQsTUFFTztBQUNMekIsSUFBQUEsR0FBRyxDQUFDNkIsTUFBSixDQUFXLEdBQVgsRUFBZ0JULElBQWhCLENBQXFCO0FBQUVVLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQVBELENBSEY7QUFZQXJDLFdBQVcsQ0FBQ3NDLElBQVosQ0FDRSxHQURGLEVBRUVsQyxhQUZGLEVBR0Usa0NBQW9CLE9BQU9FLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNeUIsS0FBSyxHQUFHLElBQUl2QixtQkFBSixDQUFVO0FBQ3RCOEIsSUFBQUEsVUFBVSxFQUFFakMsR0FBRyxDQUFDa0MsSUFBSixDQUFTRCxVQURDO0FBRXRCUixJQUFBQSxJQUFJLEVBQUV6QixHQUFHLENBQUN5QixJQUFKLENBQVNuQixHQUZPO0FBR3RCNkIsSUFBQUEsUUFBUSxFQUFFbkMsR0FBRyxDQUFDa0MsSUFBSixDQUFTQyxRQUhHO0FBSXRCQyxJQUFBQSxPQUFPLEVBQUVwQyxHQUFHLENBQUNrQyxJQUFKLENBQVNFLE9BSkk7QUFLdEJDLElBQUFBLFVBQVUsRUFBRXJDLEdBQUcsQ0FBQ2tDLElBQUosQ0FBU0csVUFMQztBQU10QkMsSUFBQUEsUUFBUSxFQUFFdEMsR0FBRyxDQUFDa0MsSUFBSixDQUFTSSxRQU5HO0FBT3RCQyxJQUFBQSxhQUFhLEVBQUV2QyxHQUFHLENBQUNrQyxJQUFKLENBQVNLLGFBUEY7QUFRdEJDLElBQUFBLFVBQVUsRUFBRXhDLEdBQUcsQ0FBQ2tDLElBQUosQ0FBU007QUFSQyxHQUFWLENBQWQ7QUFVQSxRQUFNQyxZQUFZLEdBQUcsTUFBTWYsS0FBSyxDQUFDZ0IsSUFBTixFQUEzQjtBQUNBekMsRUFBQUEsR0FBRyxDQUFDNkIsTUFBSixDQUFXLEdBQVgsRUFBZ0JULElBQWhCLENBQXFCO0FBQUVVLElBQUFBLE9BQU8sRUFBRSxtQkFBWDtBQUFnQ0wsSUFBQUEsS0FBSyxFQUFFZTtBQUF2QyxHQUFyQjtBQUNELENBYkQsQ0FIRjtBQWtCQS9DLFdBQVcsQ0FBQ2lELE1BQVosQ0FDRSxNQURGLEVBRUU3QyxhQUZGLEVBR0VDLGNBSEYsRUFJRSxrQ0FBb0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU15QixLQUFLLEdBQUcsTUFBTXZCLG9CQUFNd0IsUUFBTixDQUFlM0IsR0FBRyxDQUFDNEIsTUFBSixDQUFXQyxFQUExQixDQUFwQjs7QUFDQSxNQUFJSCxLQUFKLEVBQVc7QUFDVCxVQUFNa0IsWUFBWSxHQUFHLE1BQU1sQixLQUFLLENBQUNtQixNQUFOLEVBQTNCO0FBQ0E1QyxJQUFBQSxHQUFHLENBQUNvQixJQUFKLENBQVM7QUFBRVUsTUFBQUEsT0FBTyxFQUFFLGVBQVg7QUFBNEJlLE1BQUFBLE9BQU8sRUFBRUY7QUFBckMsS0FBVDtBQUNELEdBSEQsTUFHTztBQUNMM0MsSUFBQUEsR0FBRyxDQUFDNkIsTUFBSixDQUFXLEdBQVgsRUFBZ0JULElBQWhCLENBQXFCO0FBQUVVLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQVJELENBSkY7QUFlQXJDLFdBQVcsQ0FBQ3FELEdBQVosQ0FDRSxVQURGLEVBRUVqRCxhQUZGLEVBR0Usa0NBQW9CLE9BQU9FLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNeUIsS0FBSyxHQUFHLE1BQU12QixvQkFBTXdCLFFBQU4sQ0FBZTNCLEdBQUcsQ0FBQzRCLE1BQUosQ0FBV0MsRUFBMUIsQ0FBcEI7O0FBQ0EsTUFBSUgsS0FBSixFQUFXO0FBQ1RBLElBQUFBLEtBQUssQ0FBQ3NCLE1BQU4sR0FBZSxJQUFmO0FBQ0F0QixJQUFBQSxLQUFLLENBQUN1QixNQUFOLEdBQWVDLElBQUksQ0FBQ0MsR0FBTCxFQUFmO0FBQ0F6QixJQUFBQSxLQUFLLENBQUNVLE9BQU4sQ0FBY2dCLGFBQWQsR0FBOEI7QUFDNUJDLE1BQUFBLE9BQU8sRUFBRXJELEdBQUcsQ0FBQ2tDLElBQUosQ0FBU21CLE9BRFU7QUFFNUJDLE1BQUFBLFNBQVMsRUFBRXRELEdBQUcsQ0FBQ2tDLElBQUosQ0FBU29CLFNBRlE7QUFHNUJDLE1BQUFBLE9BQU8sRUFBRXZELEdBQUcsQ0FBQ2tDLElBQUosQ0FBU3FCO0FBSFUsS0FBOUI7QUFLQSxVQUFNQyxZQUFZLEdBQUcsTUFBTTlCLEtBQUssQ0FBQ2dCLElBQU4sRUFBM0I7QUFDQXpDLElBQUFBLEdBQUcsQ0FBQ29CLElBQUosQ0FBUztBQUFFVSxNQUFBQSxPQUFPLEVBQUUsWUFBWDtBQUF5QkwsTUFBQUEsS0FBSyxFQUFFOEI7QUFBaEMsS0FBVDtBQUNELEdBVkQsTUFVTztBQUNMdkQsSUFBQUEsR0FBRyxDQUFDNkIsTUFBSixDQUFXLEdBQVgsRUFBZ0JULElBQWhCLENBQXFCO0FBQUVVLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQWZELENBSEY7QUFxQkFyQyxXQUFXLENBQUNxRCxHQUFaLENBQ0UsY0FERixFQUVFakQsYUFGRixFQUdFLGtDQUFvQixPQUFPRSxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTXlCLEtBQUssR0FBRyxNQUFNdkIsb0JBQU13QixRQUFOLENBQWUzQixHQUFHLENBQUM0QixNQUFKLENBQVdDLEVBQTFCLENBQXBCOztBQUNBLE1BQUlILEtBQUosRUFBVztBQUNUQSxJQUFBQSxLQUFLLENBQUMrQixXQUFOLEdBQW9CLElBQXBCO0FBQ0EvQixJQUFBQSxLQUFLLENBQUNnQyxXQUFOLEdBQW9CUixJQUFJLENBQUNDLEdBQUwsRUFBcEI7QUFDQSxVQUFNSyxZQUFZLEdBQUcsTUFBTTlCLEtBQUssQ0FBQ2dCLElBQU4sRUFBM0I7QUFDQXpDLElBQUFBLEdBQUcsQ0FBQ29CLElBQUosQ0FBUztBQUFFVSxNQUFBQSxPQUFPLEVBQUUsaUJBQVg7QUFBOEJMLE1BQUFBLEtBQUssRUFBRThCO0FBQXJDLEtBQVQ7QUFDRCxHQUxELE1BS087QUFDTHZELElBQUFBLEdBQUcsQ0FBQzZCLE1BQUosQ0FBVyxHQUFYLEVBQWdCVCxJQUFoQixDQUFxQjtBQUFFVSxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FWRCxDQUhGO2VBZ0JlckMsVyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGd1ZXJpXFxEb2N1bWVudHNcXC5CRVNlcnZlcnNcXG5vZGUtamF2YXNjcmlwdC1lY29tbWVyY2VcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xyXG5pbXBvcnQgeyBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tICcuLi91dGlscyc7XHJcbmltcG9ydCBPcmRlciBmcm9tICcuLi9tb2RlbHMvb3JkZXJNb2RlbCc7XHJcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyTW9kZWwnO1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdE1vZGVsJztcclxuXHJcbmNvbnN0IG9yZGVyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxub3JkZXJSb3V0ZXIuZ2V0KFxyXG4gICcvc3VtbWFyeScsXHJcbiAgaXNBdXRoLFxyXG4gIGlzQWRtaW4sXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmFnZ3JlZ2F0ZShbXHJcbiAgICAgIHtcclxuICAgICAgICAkZ3JvdXA6IHtcclxuICAgICAgICAgIF9pZDogbnVsbCxcclxuICAgICAgICAgIG51bU9yZGVyczogeyAkc3VtOiAxIH0sXHJcbiAgICAgICAgICB0b3RhbFNhbGVzOiB7ICRzdW06ICckdG90YWxQcmljZScgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgXSk7XHJcbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IFVzZXIuYWdncmVnYXRlKFtcclxuICAgICAge1xyXG4gICAgICAgICRncm91cDoge1xyXG4gICAgICAgICAgX2lkOiBudWxsLFxyXG4gICAgICAgICAgbnVtVXNlcnM6IHsgJHN1bTogMSB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdKTtcclxuICAgIGNvbnN0IGRhaWx5T3JkZXJzID0gYXdhaXQgT3JkZXIuYWdncmVnYXRlKFtcclxuICAgICAge1xyXG4gICAgICAgICRncm91cDoge1xyXG4gICAgICAgICAgX2lkOiB7ICRkYXRlVG9TdHJpbmc6IHsgZm9ybWF0OiAnJVktJW0tJWQnLCBkYXRlOiAnJGNyZWF0ZWRBdCcgfSB9LFxyXG4gICAgICAgICAgb3JkZXJzOiB7ICRzdW06IDEgfSxcclxuICAgICAgICAgIHNhbGVzOiB7ICRzdW06ICckdG90YWxQcmljZScgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgXSk7XHJcbiAgICBjb25zdCBwcm9kdWN0Q2F0ZWdvcmllcyA9IGF3YWl0IFByb2R1Y3QuYWdncmVnYXRlKFtcclxuICAgICAge1xyXG4gICAgICAgICRncm91cDoge1xyXG4gICAgICAgICAgX2lkOiAnJGNhdGVnb3J5JyxcclxuICAgICAgICAgIGNvdW50OiB7ICRzdW06IDEgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgXSk7XHJcbiAgICByZXMuc2VuZCh7XHJcbiAgICAgIHVzZXJzLFxyXG4gICAgICBvcmRlcnM6IG9yZGVycy5sZW5ndGggPT09IDAgPyBbeyBudW1PcmRlcnM6IDAsIHRvdGFsU2FsZXM6IDAgfV0gOiBvcmRlcnMsXHJcbiAgICAgIGRhaWx5T3JkZXJzLFxyXG4gICAgICBwcm9kdWN0Q2F0ZWdvcmllcyxcclxuICAgIH0pO1xyXG4gIH0pXHJcbik7XHJcbm9yZGVyUm91dGVyLmdldChcclxuICAnLycsXHJcbiAgaXNBdXRoLFxyXG4gIGlzQWRtaW4sXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoe30pLnBvcHVsYXRlKCd1c2VyJyk7XHJcbiAgICByZXMuc2VuZChvcmRlcnMpO1xyXG4gIH0pXHJcbik7XHJcblxyXG5vcmRlclJvdXRlci5nZXQoXHJcbiAgJy9taW5lJyxcclxuICBpc0F1dGgsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoeyB1c2VyOiByZXEudXNlci5faWQgfSk7XHJcbiAgICByZXMuc2VuZChvcmRlcnMpO1xyXG4gIH0pXHJcbik7XHJcbm9yZGVyUm91dGVyLmdldChcclxuICAnLzppZCcsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKG9yZGVyKSB7XHJcbiAgICAgIHJlcy5zZW5kKG9yZGVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIE5vdCBGb3VuZCcgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxub3JkZXJSb3V0ZXIucG9zdChcclxuICAnLycsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlciA9IG5ldyBPcmRlcih7XHJcbiAgICAgIG9yZGVySXRlbXM6IHJlcS5ib2R5Lm9yZGVySXRlbXMsXHJcbiAgICAgIHVzZXI6IHJlcS51c2VyLl9pZCxcclxuICAgICAgc2hpcHBpbmc6IHJlcS5ib2R5LnNoaXBwaW5nLFxyXG4gICAgICBwYXltZW50OiByZXEuYm9keS5wYXltZW50LFxyXG4gICAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxyXG4gICAgICB0YXhQcmljZTogcmVxLmJvZHkudGF4UHJpY2UsXHJcbiAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXHJcbiAgICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyZWF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcclxuICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgbWVzc2FnZTogJ05ldyBPcmRlciBDcmVhdGVkJywgb3JkZXI6IGNyZWF0ZWRPcmRlciB9KTtcclxuICB9KVxyXG4pO1xyXG5vcmRlclJvdXRlci5kZWxldGUoXHJcbiAgJy86aWQnLFxyXG4gIGlzQXV0aCxcclxuICBpc0FkbWluLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKG9yZGVyKSB7XHJcbiAgICAgIGNvbnN0IGRlbGV0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnJlbW92ZSgpO1xyXG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBEZWxldGVkJywgcHJvZHVjdDogZGVsZXRlZE9yZGVyIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJyB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxub3JkZXJSb3V0ZXIucHV0KFxyXG4gICcvOmlkL3BheScsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKG9yZGVyKSB7XHJcbiAgICAgIG9yZGVyLmlzUGFpZCA9IHRydWU7XHJcbiAgICAgIG9yZGVyLnBhaWRBdCA9IERhdGUubm93KCk7XHJcbiAgICAgIG9yZGVyLnBheW1lbnQucGF5bWVudFJlc3VsdCA9IHtcclxuICAgICAgICBwYXllcklEOiByZXEuYm9keS5wYXllcklELFxyXG4gICAgICAgIHBheW1lbnRJRDogcmVxLmJvZHkucGF5bWVudElELFxyXG4gICAgICAgIG9yZGVySUQ6IHJlcS5ib2R5Lm9yZGVySUQsXHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcclxuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgUGFpZCcsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQuJyB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxub3JkZXJSb3V0ZXIucHV0KFxyXG4gICcvOmlkL2RlbGl2ZXInLFxyXG4gIGlzQXV0aCxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChvcmRlcikge1xyXG4gICAgICBvcmRlci5pc0RlbGl2ZXJlZCA9IHRydWU7XHJcbiAgICAgIG9yZGVyLmRlbGl2ZXJlZEF0ID0gRGF0ZS5ub3coKTtcclxuICAgICAgY29uc3QgdXBkYXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuc2F2ZSgpO1xyXG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBEZWxpdmVyZWQnLCBvcmRlcjogdXBkYXRlZE9yZGVyIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kLicgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG9yZGVyUm91dGVyO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "orderRouter.js"
      ],
      "names": [
        "orderRouter",
        "express",
        "Router",
        "get",
        "isAuth",
        "isAdmin",
        "req",
        "res",
        "orders",
        "Order",
        "aggregate",
        "$group",
        "_id",
        "numOrders",
        "$sum",
        "totalSales",
        "users",
        "User",
        "numUsers",
        "dailyOrders",
        "$dateToString",
        "format",
        "date",
        "sales",
        "productCategories",
        "Product",
        "count",
        "send",
        "length",
        "find",
        "populate",
        "user",
        "order",
        "findById",
        "params",
        "id",
        "status",
        "message",
        "post",
        "orderItems",
        "body",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "createdOrder",
        "save",
        "delete",
        "deletedOrder",
        "remove",
        "product",
        "put",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentResult",
        "payerID",
        "paymentID",
        "orderID",
        "updatedOrder",
        "isDelivered",
        "deliveredAt"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport expressAsyncHandler from 'express-async-handler';\r\nimport { isAuth, isAdmin } from '../utils';\r\nimport Order from '../models/orderModel';\r\nimport User from '../models/userModel';\r\nimport Product from '../models/productModel';\r\n\r\nconst orderRouter = express.Router();\r\norderRouter.get(\r\n  '/summary',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const orders = await Order.aggregate([\r\n      {\r\n        $group: {\r\n          _id: null,\r\n          numOrders: { $sum: 1 },\r\n          totalSales: { $sum: '$totalPrice' },\r\n        },\r\n      },\r\n    ]);\r\n    const users = await User.aggregate([\r\n      {\r\n        $group: {\r\n          _id: null,\r\n          numUsers: { $sum: 1 },\r\n        },\r\n      },\r\n    ]);\r\n    const dailyOrders = await Order.aggregate([\r\n      {\r\n        $group: {\r\n          _id: { $dateToString: { format: '%Y-%m-%d', date: '$createdAt' } },\r\n          orders: { $sum: 1 },\r\n          sales: { $sum: '$totalPrice' },\r\n        },\r\n      },\r\n    ]);\r\n    const productCategories = await Product.aggregate([\r\n      {\r\n        $group: {\r\n          _id: '$category',\r\n          count: { $sum: 1 },\r\n        },\r\n      },\r\n    ]);\r\n    res.send({\r\n      users,\r\n      orders: orders.length === 0 ? [{ numOrders: 0, totalSales: 0 }] : orders,\r\n      dailyOrders,\r\n      productCategories,\r\n    });\r\n  })\r\n);\r\norderRouter.get(\r\n  '/',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const orders = await Order.find({}).populate('user');\r\n    res.send(orders);\r\n  })\r\n);\r\n\r\norderRouter.get(\r\n  '/mine',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const orders = await Order.find({ user: req.user._id });\r\n    res.send(orders);\r\n  })\r\n);\r\norderRouter.get(\r\n  '/:id',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      res.send(order);\r\n    } else {\r\n      res.status(404).send({ message: 'Order Not Found' });\r\n    }\r\n  })\r\n);\r\norderRouter.post(\r\n  '/',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = new Order({\r\n      orderItems: req.body.orderItems,\r\n      user: req.user._id,\r\n      shipping: req.body.shipping,\r\n      payment: req.body.payment,\r\n      itemsPrice: req.body.itemsPrice,\r\n      taxPrice: req.body.taxPrice,\r\n      shippingPrice: req.body.shippingPrice,\r\n      totalPrice: req.body.totalPrice,\r\n    });\r\n    const createdOrder = await order.save();\r\n    res.status(201).send({ message: 'New Order Created', order: createdOrder });\r\n  })\r\n);\r\norderRouter.delete(\r\n  '/:id',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      const deletedOrder = await order.remove();\r\n      res.send({ message: 'Order Deleted', product: deletedOrder });\r\n    } else {\r\n      res.status(404).send({ message: 'Order Not Found' });\r\n    }\r\n  })\r\n);\r\n\r\norderRouter.put(\r\n  '/:id/pay',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      order.isPaid = true;\r\n      order.paidAt = Date.now();\r\n      order.payment.paymentResult = {\r\n        payerID: req.body.payerID,\r\n        paymentID: req.body.paymentID,\r\n        orderID: req.body.orderID,\r\n      };\r\n      const updatedOrder = await order.save();\r\n      res.send({ message: 'Order Paid', order: updatedOrder });\r\n    } else {\r\n      res.status(404).send({ message: 'Order Not Found.' });\r\n    }\r\n  })\r\n);\r\n\r\norderRouter.put(\r\n  '/:id/deliver',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      order.isDelivered = true;\r\n      order.deliveredAt = Date.now();\r\n      const updatedOrder = await order.save();\r\n      res.send({ message: 'Order Delivered', order: updatedOrder });\r\n    } else {\r\n      res.status(404).send({ message: 'Order Not Found.' });\r\n    }\r\n  })\r\n);\r\n\r\nexport default orderRouter;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712311
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\models\\\\orderModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\orderModel.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\orderModel.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: 'Product',\n      required: true\n    }\n  }],\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  shipping: {\n    address: String,\n    city: String,\n    postalCode: String,\n    country: String\n  },\n  payment: {\n    paymentMethod: String,\n    paymentResult: {\n      orderID: String,\n      payerID: String,\n      paymentID: String\n    }\n  },\n  itemsPrice: Number,\n  taxPrice: Number,\n  shippingPrice: Number,\n  totalPrice: Number,\n  isPaid: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  paidAt: Date,\n  isDelivered: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  deliveredAt: Date\n}, {\n  timestamps: true\n});\n\nconst Order = _mongoose.default.model('Order', orderSchema);\n\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsib3JkZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm9yZGVySXRlbXMiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiaW1hZ2UiLCJwcmljZSIsIk51bWJlciIsInF0eSIsInByb2R1Y3QiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlciIsInNoaXBwaW5nIiwiYWRkcmVzcyIsImNpdHkiLCJwb3N0YWxDb2RlIiwiY291bnRyeSIsInBheW1lbnQiLCJwYXltZW50TWV0aG9kIiwicGF5bWVudFJlc3VsdCIsIm9yZGVySUQiLCJwYXllcklEIiwicGF5bWVudElEIiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInBhaWRBdCIsIkRhdGUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0IiwidGltZXN0YW1wcyIsIk9yZGVyIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNsQjtBQUNFQyxFQUFBQSxVQUFVLEVBQUUsQ0FDVjtBQUNFQyxJQUFBQSxJQUFJLEVBQUU7QUFBRUMsTUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FEUjtBQUVFQyxJQUFBQSxLQUFLLEVBQUU7QUFBRUgsTUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FGVDtBQUdFRSxJQUFBQSxLQUFLLEVBQUU7QUFBRUosTUFBQUEsSUFBSSxFQUFFSyxNQUFSO0FBQWdCSCxNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FIVDtBQUlFSSxJQUFBQSxHQUFHLEVBQUU7QUFBRU4sTUFBQUEsSUFBSSxFQUFFSyxNQUFSO0FBQWdCSCxNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FKUDtBQUtFSyxJQUFBQSxPQUFPLEVBQUU7QUFDUFAsTUFBQUEsSUFBSSxFQUFFSixrQkFBU0MsTUFBVCxDQUFnQlcsS0FBaEIsQ0FBc0JDLFFBRHJCO0FBRVBDLE1BQUFBLEdBQUcsRUFBRSxTQUZFO0FBR1BSLE1BQUFBLFFBQVEsRUFBRTtBQUhIO0FBTFgsR0FEVSxDQURkO0FBY0VTLEVBQUFBLElBQUksRUFBRTtBQUFFWCxJQUFBQSxJQUFJLEVBQUVKLGtCQUFTQyxNQUFULENBQWdCVyxLQUFoQixDQUFzQkMsUUFBOUI7QUFBd0NDLElBQUFBLEdBQUcsRUFBRSxNQUE3QztBQUFxRFIsSUFBQUEsUUFBUSxFQUFFO0FBQS9ELEdBZFI7QUFlRVUsRUFBQUEsUUFBUSxFQUFFO0FBQ1JDLElBQUFBLE9BQU8sRUFBRVosTUFERDtBQUVSYSxJQUFBQSxJQUFJLEVBQUViLE1BRkU7QUFHUmMsSUFBQUEsVUFBVSxFQUFFZCxNQUhKO0FBSVJlLElBQUFBLE9BQU8sRUFBRWY7QUFKRCxHQWZaO0FBcUJFZ0IsRUFBQUEsT0FBTyxFQUFFO0FBQ1BDLElBQUFBLGFBQWEsRUFBRWpCLE1BRFI7QUFFUGtCLElBQUFBLGFBQWEsRUFBRTtBQUNiQyxNQUFBQSxPQUFPLEVBQUVuQixNQURJO0FBRWJvQixNQUFBQSxPQUFPLEVBQUVwQixNQUZJO0FBR2JxQixNQUFBQSxTQUFTLEVBQUVyQjtBQUhFO0FBRlIsR0FyQlg7QUE2QkVzQixFQUFBQSxVQUFVLEVBQUVsQixNQTdCZDtBQThCRW1CLEVBQUFBLFFBQVEsRUFBRW5CLE1BOUJaO0FBK0JFb0IsRUFBQUEsYUFBYSxFQUFFcEIsTUEvQmpCO0FBZ0NFcUIsRUFBQUEsVUFBVSxFQUFFckIsTUFoQ2Q7QUFpQ0VzQixFQUFBQSxNQUFNLEVBQUU7QUFBRTNCLElBQUFBLElBQUksRUFBRTRCLE9BQVI7QUFBaUIxQixJQUFBQSxRQUFRLEVBQUUsSUFBM0I7QUFBaUMyQixJQUFBQSxPQUFPLEVBQUU7QUFBMUMsR0FqQ1Y7QUFrQ0VDLEVBQUFBLE1BQU0sRUFBRUMsSUFsQ1Y7QUFtQ0VDLEVBQUFBLFdBQVcsRUFBRTtBQUFFaEMsSUFBQUEsSUFBSSxFQUFFNEIsT0FBUjtBQUFpQjFCLElBQUFBLFFBQVEsRUFBRSxJQUEzQjtBQUFpQzJCLElBQUFBLE9BQU8sRUFBRTtBQUExQyxHQW5DZjtBQW9DRUksRUFBQUEsV0FBVyxFQUFFRjtBQXBDZixDQURrQixFQXVDbEI7QUFDRUcsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0F2Q2tCLENBQXBCOztBQTJDQSxNQUFNQyxLQUFLLEdBQUd2QyxrQkFBU3dDLEtBQVQsQ0FBZSxPQUFmLEVBQXdCekMsV0FBeEIsQ0FBZDs7ZUFDZXdDLEsiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxndWVyaVxcRG9jdW1lbnRzXFwuQkVTZXJ2ZXJzXFxub2RlLWphdmFzY3JpcHQtZWNvbW1lcmNlXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCBvcmRlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgb3JkZXJJdGVtczogW1xyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgICAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICAgIHByaWNlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgICBxdHk6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICAgIHByb2R1Y3Q6IHtcclxuICAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICAgIHJlZjogJ1Byb2R1Y3QnLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgICB1c2VyOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnVXNlcicsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBzaGlwcGluZzoge1xyXG4gICAgICBhZGRyZXNzOiBTdHJpbmcsXHJcbiAgICAgIGNpdHk6IFN0cmluZyxcclxuICAgICAgcG9zdGFsQ29kZTogU3RyaW5nLFxyXG4gICAgICBjb3VudHJ5OiBTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgcGF5bWVudDoge1xyXG4gICAgICBwYXltZW50TWV0aG9kOiBTdHJpbmcsXHJcbiAgICAgIHBheW1lbnRSZXN1bHQ6IHtcclxuICAgICAgICBvcmRlcklEOiBTdHJpbmcsXHJcbiAgICAgICAgcGF5ZXJJRDogU3RyaW5nLFxyXG4gICAgICAgIHBheW1lbnRJRDogU3RyaW5nLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIGl0ZW1zUHJpY2U6IE51bWJlcixcclxuICAgIHRheFByaWNlOiBOdW1iZXIsXHJcbiAgICBzaGlwcGluZ1ByaWNlOiBOdW1iZXIsXHJcbiAgICB0b3RhbFByaWNlOiBOdW1iZXIsXHJcbiAgICBpc1BhaWQ6IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgICBwYWlkQXQ6IERhdGUsXHJcbiAgICBpc0RlbGl2ZXJlZDogeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgIGRlbGl2ZXJlZEF0OiBEYXRlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxuICB9XHJcbik7XHJcbmNvbnN0IE9yZGVyID0gbW9uZ29vc2UubW9kZWwoJ09yZGVyJywgb3JkZXJTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBPcmRlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "orderSchema",
        "mongoose",
        "Schema",
        "orderItems",
        "name",
        "type",
        "String",
        "required",
        "image",
        "price",
        "Number",
        "qty",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "user",
        "shipping",
        "address",
        "city",
        "postalCode",
        "country",
        "payment",
        "paymentMethod",
        "paymentResult",
        "orderID",
        "payerID",
        "paymentID",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "Order",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,WAAW,GAAG,IAAIC,kBAASC,MAAb,CAClB;AACEC,EAAAA,UAAU,EAAE,CACV;AACEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,IAAI,EAAEC,MAAR;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KADR;AAEEC,IAAAA,KAAK,EAAE;AAAEH,MAAAA,IAAI,EAAEC,MAAR;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KAFT;AAGEE,IAAAA,KAAK,EAAE;AAAEJ,MAAAA,IAAI,EAAEK,MAAR;AAAgBH,MAAAA,QAAQ,EAAE;AAA1B,KAHT;AAIEI,IAAAA,GAAG,EAAE;AAAEN,MAAAA,IAAI,EAAEK,MAAR;AAAgBH,MAAAA,QAAQ,EAAE;AAA1B,KAJP;AAKEK,IAAAA,OAAO,EAAE;AACPP,MAAAA,IAAI,EAAEJ,kBAASC,MAAT,CAAgBW,KAAhB,CAAsBC,QADrB;AAEPC,MAAAA,GAAG,EAAE,SAFE;AAGPR,MAAAA,QAAQ,EAAE;AAHH;AALX,GADU,CADd;AAcES,EAAAA,IAAI,EAAE;AAAEX,IAAAA,IAAI,EAAEJ,kBAASC,MAAT,CAAgBW,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE,MAA7C;AAAqDR,IAAAA,QAAQ,EAAE;AAA/D,GAdR;AAeEU,EAAAA,QAAQ,EAAE;AACRC,IAAAA,OAAO,EAAEZ,MADD;AAERa,IAAAA,IAAI,EAAEb,MAFE;AAGRc,IAAAA,UAAU,EAAEd,MAHJ;AAIRe,IAAAA,OAAO,EAAEf;AAJD,GAfZ;AAqBEgB,EAAAA,OAAO,EAAE;AACPC,IAAAA,aAAa,EAAEjB,MADR;AAEPkB,IAAAA,aAAa,EAAE;AACbC,MAAAA,OAAO,EAAEnB,MADI;AAEboB,MAAAA,OAAO,EAAEpB,MAFI;AAGbqB,MAAAA,SAAS,EAAErB;AAHE;AAFR,GArBX;AA6BEsB,EAAAA,UAAU,EAAElB,MA7Bd;AA8BEmB,EAAAA,QAAQ,EAAEnB,MA9BZ;AA+BEoB,EAAAA,aAAa,EAAEpB,MA/BjB;AAgCEqB,EAAAA,UAAU,EAAErB,MAhCd;AAiCEsB,EAAAA,MAAM,EAAE;AAAE3B,IAAAA,IAAI,EAAE4B,OAAR;AAAiB1B,IAAAA,QAAQ,EAAE,IAA3B;AAAiC2B,IAAAA,OAAO,EAAE;AAA1C,GAjCV;AAkCEC,EAAAA,MAAM,EAAEC,IAlCV;AAmCEC,EAAAA,WAAW,EAAE;AAAEhC,IAAAA,IAAI,EAAE4B,OAAR;AAAiB1B,IAAAA,QAAQ,EAAE,IAA3B;AAAiC2B,IAAAA,OAAO,EAAE;AAA1C,GAnCf;AAoCEI,EAAAA,WAAW,EAAEF;AApCf,CADkB,EAuClB;AACEG,EAAAA,UAAU,EAAE;AADd,CAvCkB,CAApB;;AA2CA,MAAMC,KAAK,GAAGvC,kBAASwC,KAAT,CAAe,OAAf,EAAwBzC,WAAxB,CAAd;;eACewC,K",
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\n\r\nconst orderSchema = new mongoose.Schema(\r\n  {\r\n    orderItems: [\r\n      {\r\n        name: { type: String, required: true },\r\n        image: { type: String, required: true },\r\n        price: { type: Number, required: true },\r\n        qty: { type: Number, required: true },\r\n        product: {\r\n          type: mongoose.Schema.Types.ObjectId,\r\n          ref: 'Product',\r\n          required: true,\r\n        },\r\n      },\r\n    ],\r\n    user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\r\n    shipping: {\r\n      address: String,\r\n      city: String,\r\n      postalCode: String,\r\n      country: String,\r\n    },\r\n    payment: {\r\n      paymentMethod: String,\r\n      paymentResult: {\r\n        orderID: String,\r\n        payerID: String,\r\n        paymentID: String,\r\n      },\r\n    },\r\n    itemsPrice: Number,\r\n    taxPrice: Number,\r\n    shippingPrice: Number,\r\n    totalPrice: Number,\r\n    isPaid: { type: Boolean, required: true, default: false },\r\n    paidAt: Date,\r\n    isDelivered: { type: Boolean, required: true, default: false },\r\n    deliveredAt: Date,\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\nconst Order = mongoose.model('Order', orderSchema);\r\nexport default Order;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712310
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\models\\\\productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\productModel.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\productModel.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst reviewSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    required: true,\n    default: 0,\n    min: 0,\n    max: 5\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n}, {\n  timestamps: true\n});\n\nconst Product = _mongoose.default.model('Product', productSchema);\n\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJyZXZpZXdTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsInVzZXIiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibmFtZSIsIlN0cmluZyIsInJhdGluZyIsIk51bWJlciIsImRlZmF1bHQiLCJtaW4iLCJtYXgiLCJjb21tZW50IiwidGltZXN0YW1wcyIsInByb2R1Y3RTY2hlbWEiLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwiYnJhbmQiLCJpbWFnZSIsInByaWNlIiwiY291bnRJblN0b2NrIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJQcm9kdWN0IiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNuQjtBQUNFQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFSCxrQkFBU0MsTUFBVCxDQUFnQkcsS0FBaEIsQ0FBc0JDLFFBQTlCO0FBQXdDQyxJQUFBQSxHQUFHLEVBQUUsTUFBN0M7QUFBcURDLElBQUFBLFFBQVEsRUFBRTtBQUEvRCxHQURSO0FBRUVDLEVBQUFBLElBQUksRUFBRTtBQUFFTCxJQUFBQSxJQUFJLEVBQUVNLE1BQVI7QUFBZ0JGLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUZSO0FBR0VHLEVBQUFBLE1BQU0sRUFBRTtBQUNOUCxJQUFBQSxJQUFJLEVBQUVRLE1BREE7QUFFTkosSUFBQUEsUUFBUSxFQUFFLElBRko7QUFHTkssSUFBQUEsT0FBTyxFQUFFLENBSEg7QUFJTkMsSUFBQUEsR0FBRyxFQUFFLENBSkM7QUFLTkMsSUFBQUEsR0FBRyxFQUFFO0FBTEMsR0FIVjtBQVVFQyxFQUFBQSxPQUFPLEVBQUU7QUFBRVosSUFBQUEsSUFBSSxFQUFFTSxNQUFSO0FBQWdCRixJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFWWCxDQURtQixFQWFuQjtBQUFFUyxFQUFBQSxVQUFVLEVBQUU7QUFBZCxDQWJtQixDQUFyQjtBQWdCQSxNQUFNQyxhQUFhLEdBQUcsSUFBSWpCLGtCQUFTQyxNQUFiLENBQ3BCO0FBQ0VPLEVBQUFBLElBQUksRUFBRTtBQUFFTCxJQUFBQSxJQUFJLEVBQUVNLE1BQVI7QUFBZ0JGLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURSO0FBRUVXLEVBQUFBLFdBQVcsRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVNLE1BQVI7QUFBZ0JGLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUZmO0FBR0VZLEVBQUFBLFFBQVEsRUFBRTtBQUFFaEIsSUFBQUEsSUFBSSxFQUFFTSxNQUFSO0FBQWdCRixJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FIWjtBQUlFYSxFQUFBQSxLQUFLLEVBQUU7QUFBRWpCLElBQUFBLElBQUksRUFBRU0sTUFBUjtBQUFnQkYsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSlQ7QUFLRWMsRUFBQUEsS0FBSyxFQUFFO0FBQUVsQixJQUFBQSxJQUFJLEVBQUVNLE1BQVI7QUFBZ0JGLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUxUO0FBTUVlLEVBQUFBLEtBQUssRUFBRTtBQUFFbkIsSUFBQUEsSUFBSSxFQUFFUSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsR0FBekI7QUFBOEJMLElBQUFBLFFBQVEsRUFBRTtBQUF4QyxHQU5UO0FBT0VnQixFQUFBQSxZQUFZLEVBQUU7QUFBRXBCLElBQUFBLElBQUksRUFBRVEsTUFBUjtBQUFnQkMsSUFBQUEsT0FBTyxFQUFFLENBQXpCO0FBQTRCTCxJQUFBQSxRQUFRLEVBQUU7QUFBdEMsR0FQaEI7QUFRRUcsRUFBQUEsTUFBTSxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRVEsTUFBUjtBQUFnQkMsSUFBQUEsT0FBTyxFQUFFLEdBQXpCO0FBQThCTCxJQUFBQSxRQUFRLEVBQUU7QUFBeEMsR0FSVjtBQVNFaUIsRUFBQUEsVUFBVSxFQUFFO0FBQUVyQixJQUFBQSxJQUFJLEVBQUVRLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkwsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBVGQ7QUFVRWtCLEVBQUFBLE9BQU8sRUFBRSxDQUFDMUIsWUFBRDtBQVZYLENBRG9CLEVBYXBCO0FBQUVpQixFQUFBQSxVQUFVLEVBQUU7QUFBZCxDQWJvQixDQUF0Qjs7QUFlQSxNQUFNVSxPQUFPLEdBQUcxQixrQkFBUzJCLEtBQVQsQ0FBZSxTQUFmLEVBQTBCVixhQUExQixDQUFoQjs7ZUFDZVMsTyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGd1ZXJpXFxEb2N1bWVudHNcXC5CRVNlcnZlcnNcXG5vZGUtamF2YXNjcmlwdC1lY29tbWVyY2VcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IHJldmlld1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICByYXRpbmc6IHtcclxuICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgZGVmYXVsdDogMCxcclxuICAgICAgbWluOiAwLFxyXG4gICAgICBtYXg6IDUsXHJcbiAgICB9LFxyXG4gICAgY29tbWVudDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgfSxcclxuICB7IHRpbWVzdGFtcHM6IHRydWUgfVxyXG4pO1xyXG5cclxuY29uc3QgcHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBjYXRlZ29yeTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBicmFuZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBwcmljZTogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAuMCwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIGNvdW50SW5TdG9jazogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICByYXRpbmc6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLjAsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIHJldmlld3M6IFtyZXZpZXdTY2hlbWFdLFxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuY29uc3QgUHJvZHVjdCA9IG1vbmdvb3NlLm1vZGVsKCdQcm9kdWN0JywgcHJvZHVjdFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "reviewSchema",
        "mongoose",
        "Schema",
        "user",
        "type",
        "Types",
        "ObjectId",
        "ref",
        "required",
        "name",
        "String",
        "rating",
        "Number",
        "default",
        "min",
        "max",
        "comment",
        "timestamps",
        "productSchema",
        "description",
        "category",
        "brand",
        "image",
        "price",
        "countInStock",
        "numReviews",
        "reviews",
        "Product",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,kBAASC,MAAb,CACnB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE,MAA7C;AAAqDC,IAAAA,QAAQ,EAAE;AAA/D,GADR;AAEEC,EAAAA,IAAI,EAAE;AAAEL,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GAFR;AAGEG,EAAAA,MAAM,EAAE;AACNP,IAAAA,IAAI,EAAEQ,MADA;AAENJ,IAAAA,QAAQ,EAAE,IAFJ;AAGNK,IAAAA,OAAO,EAAE,CAHH;AAINC,IAAAA,GAAG,EAAE,CAJC;AAKNC,IAAAA,GAAG,EAAE;AALC,GAHV;AAUEC,EAAAA,OAAO,EAAE;AAAEZ,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B;AAVX,CADmB,EAanB;AAAES,EAAAA,UAAU,EAAE;AAAd,CAbmB,CAArB;AAgBA,MAAMC,aAAa,GAAG,IAAIjB,kBAASC,MAAb,CACpB;AACEO,EAAAA,IAAI,EAAE;AAAEL,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEW,EAAAA,WAAW,EAAE;AAAEf,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GAFf;AAGEY,EAAAA,QAAQ,EAAE;AAAEhB,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GAHZ;AAIEa,EAAAA,KAAK,EAAE;AAAEjB,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GAJT;AAKEc,EAAAA,KAAK,EAAE;AAAElB,IAAAA,IAAI,EAAEM,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GALT;AAMEe,EAAAA,KAAK,EAAE;AAAEnB,IAAAA,IAAI,EAAEQ,MAAR;AAAgBC,IAAAA,OAAO,EAAE,GAAzB;AAA8BL,IAAAA,QAAQ,EAAE;AAAxC,GANT;AAOEgB,EAAAA,YAAY,EAAE;AAAEpB,IAAAA,IAAI,EAAEQ,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BL,IAAAA,QAAQ,EAAE;AAAtC,GAPhB;AAQEG,EAAAA,MAAM,EAAE;AAAEP,IAAAA,IAAI,EAAEQ,MAAR;AAAgBC,IAAAA,OAAO,EAAE,GAAzB;AAA8BL,IAAAA,QAAQ,EAAE;AAAxC,GARV;AASEiB,EAAAA,UAAU,EAAE;AAAErB,IAAAA,IAAI,EAAEQ,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BL,IAAAA,QAAQ,EAAE;AAAtC,GATd;AAUEkB,EAAAA,OAAO,EAAE,CAAC1B,YAAD;AAVX,CADoB,EAapB;AAAEiB,EAAAA,UAAU,EAAE;AAAd,CAboB,CAAtB;;AAeA,MAAMU,OAAO,GAAG1B,kBAAS2B,KAAT,CAAe,SAAf,EAA0BV,aAA1B,CAAhB;;eACeS,O",
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\n\r\nconst reviewSchema = new mongoose.Schema(\r\n  {\r\n    user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\r\n    name: { type: String, required: true },\r\n    rating: {\r\n      type: Number,\r\n      required: true,\r\n      default: 0,\r\n      min: 0,\r\n      max: 5,\r\n    },\r\n    comment: { type: String, required: true },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nconst productSchema = new mongoose.Schema(\r\n  {\r\n    name: { type: String, required: true },\r\n    description: { type: String, required: true },\r\n    category: { type: String, required: true },\r\n    brand: { type: String, required: true },\r\n    image: { type: String, required: true },\r\n    price: { type: Number, default: 0.0, required: true },\r\n    countInStock: { type: Number, default: 0, required: true },\r\n    rating: { type: Number, default: 0.0, required: true },\r\n    numReviews: { type: Number, default: 0, required: true },\r\n    reviews: [reviewSchema],\r\n  },\r\n  { timestamps: true }\r\n);\r\nconst Product = mongoose.model('Product', productSchema);\r\nexport default Product;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712310
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\productRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\productRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\productRouter.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\productRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
        "sourceFileName": "productRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utils = require(\"../utils\");\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const products = await _productModel.default.find({ ...searchKeyword\n  });\n  res.send(products);\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  res.send(product);\n}));\nproductRouter.post('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample product',\n    description: 'sample desc',\n    category: 'sample category',\n    brand: 'sample brand',\n    image: '/images/product-1.jpg'\n  });\n  const createdProduct = await product.save();\n\n  if (createdProduct) {\n    res.status(201).send({\n      message: 'Product Created',\n      product: createdProduct\n    });\n  } else {\n    res.status(500).send({\n      message: 'Error in creating product'\n    });\n  }\n}));\nproductRouter.put('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n\n    if (updatedProduct) {\n      res.send({\n        message: 'Product Updated',\n        product: updatedProduct\n      });\n    } else {\n      res.status(500).send({\n        message: 'Error in updaing product'\n      });\n    }\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deletedProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deletedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nproductRouter.post('/:id/reviews', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const review = {\n      rating: req.body.rating,\n      comment: req.body.comment,\n      user: req.user._id,\n      name: req.user.name\n    };\n    product.reviews.push(review);\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    product.numReviews = product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      message: 'Comment Created.',\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1]\n    });\n  } else {\n    throw Error('Product does not exist.');\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJzZWFyY2hLZXl3b3JkIiwicXVlcnkiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwic2VuZCIsInByb2R1Y3QiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicG9zdCIsImlzQXV0aCIsImlzQWRtaW4iLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwiYnJhbmQiLCJpbWFnZSIsImNyZWF0ZWRQcm9kdWN0Iiwic2F2ZSIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwdXQiLCJwcm9kdWN0SWQiLCJib2R5IiwicHJpY2UiLCJjb3VudEluU3RvY2siLCJ1cGRhdGVkUHJvZHVjdCIsImRlbGV0ZSIsImRlbGV0ZWRQcm9kdWN0IiwicmVtb3ZlIiwicmV2aWV3IiwicmF0aW5nIiwiY29tbWVudCIsInVzZXIiLCJfaWQiLCJyZXZpZXdzIiwicHVzaCIsInJlZHVjZSIsImEiLCJjIiwibGVuZ3RoIiwibnVtUmV2aWV3cyIsImRhdGEiLCJFcnJvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHQyxpQkFBUUMsTUFBUixFQUF0Qjs7QUFDQUYsYUFBYSxDQUFDRyxHQUFkLENBQ0UsR0FERixFQUVFLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTUMsYUFBYSxHQUFHRixHQUFHLENBQUNHLEtBQUosQ0FBVUQsYUFBVixHQUNsQjtBQUNFRSxJQUFBQSxJQUFJLEVBQUU7QUFDSkMsTUFBQUEsTUFBTSxFQUFFTCxHQUFHLENBQUNHLEtBQUosQ0FBVUQsYUFEZDtBQUVKSSxNQUFBQSxRQUFRLEVBQUU7QUFGTjtBQURSLEdBRGtCLEdBT2xCLEVBUEo7QUFRQSxRQUFNQyxRQUFR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QkVTZXJ2ZXJzXFxub2RlLWphdmFzY3JpcHQtZWNvbW1lcmNlXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcclxuaW1wb3J0IHsgaXNBdXRoLCBpc0FkbWluIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdE1vZGVsJztcclxuXHJcbmNvbnN0IHByb2R1Y3RSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5wcm9kdWN0Um91dGVyLmdldChcclxuICAnLycsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHNlYXJjaEtleXdvcmQgPSByZXEucXVlcnkuc2VhcmNoS2V5d29yZFxyXG4gICAgICA/IHtcclxuICAgICAgICAgIG5hbWU6IHtcclxuICAgICAgICAgICAgJHJlZ2V4OiByZXEucXVlcnkuc2VhcmNoS2V5d29yZCxcclxuICAgICAgICAgICAgJG9wdGlvbnM6ICdpJyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfVxyXG4gICAgICA6IHt9O1xyXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoeyAuLi5zZWFyY2hLZXl3b3JkIH0pO1xyXG4gICAgcmVzLnNlbmQocHJvZHVjdHMpO1xyXG4gIH0pXHJcbik7XHJcbnByb2R1Y3RSb3V0ZXIuZ2V0KFxyXG4gICcvOmlkJyxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XHJcbiAgICByZXMuc2VuZChwcm9kdWN0KTtcclxuICB9KVxyXG4pO1xyXG5cclxucHJvZHVjdFJvdXRlci5wb3N0KFxyXG4gICcvJyxcclxuICBpc0F1dGgsXHJcbiAgaXNBZG1pbixcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcclxuICAgICAgbmFtZTogJ3NhbXBsZSBwcm9kdWN0JyxcclxuICAgICAgZGVzY3JpcHRpb246ICdzYW1wbGUgZGVzYycsXHJcbiAgICAgIGNhdGVnb3J5OiAnc2FtcGxlIGNhdGVnb3J5JyxcclxuICAgICAgYnJhbmQ6ICdzYW1wbGUgYnJhbmQnLFxyXG4gICAgICBpbWFnZTogJy9pbWFnZXMvcHJvZHVjdC0xLmpwZycsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyZWF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XHJcbiAgICBpZiAoY3JlYXRlZFByb2R1Y3QpIHtcclxuICAgICAgcmVzXHJcbiAgICAgICAgLnN0YXR1cygyMDEpXHJcbiAgICAgICAgLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBDcmVhdGVkJywgcHJvZHVjdDogY3JlYXRlZFByb2R1Y3QgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICdFcnJvciBpbiBjcmVhdGluZyBwcm9kdWN0JyB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5wcm9kdWN0Um91dGVyLnB1dChcclxuICAnLzppZCcsXHJcbiAgaXNBdXRoLFxyXG4gIGlzQWRtaW4sXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHByb2R1Y3RJZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChwcm9kdWN0SWQpO1xyXG4gICAgaWYgKHByb2R1Y3QpIHtcclxuICAgICAgcHJvZHVjdC5uYW1lID0gcmVxLmJvZHkubmFtZTtcclxuICAgICAgcHJvZHVjdC5wcmljZSA9IHJlcS5ib2R5LnByaWNlO1xyXG4gICAgICBwcm9kdWN0LmltYWdlID0gcmVxLmJvZHkuaW1hZ2U7XHJcbiAgICAgIHByb2R1Y3QuYnJhbmQgPSByZXEuYm9keS5icmFuZDtcclxuICAgICAgcHJvZHVjdC5jYXRlZ29yeSA9IHJlcS5ib2R5LmNhdGVnb3J5O1xyXG4gICAgICBwcm9kdWN0LmNvdW50SW5TdG9jayA9IHJlcS5ib2R5LmNvdW50SW5TdG9jaztcclxuICAgICAgcHJvZHVjdC5kZXNjcmlwdGlvbiA9IHJlcS5ib2R5LmRlc2NyaXB0aW9uO1xyXG4gICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgICBpZiAodXBkYXRlZFByb2R1Y3QpIHtcclxuICAgICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IFVwZGF0ZWQnLCBwcm9kdWN0OiB1cGRhdGVkUHJvZHVjdCB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICdFcnJvciBpbiB1cGRhaW5nIHByb2R1Y3QnIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxucHJvZHVjdFJvdXRlci5kZWxldGUoXHJcbiAgJy86aWQnLFxyXG4gIGlzQXV0aCxcclxuICBpc0FkbWluLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgIGNvbnN0IGRlbGV0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5yZW1vdmUoKTtcclxuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBEZWxldGVkJywgcHJvZHVjdDogZGVsZXRlZFByb2R1Y3QgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuXHJcbnByb2R1Y3RSb3V0ZXIucG9zdChcclxuICAnLzppZC9yZXZpZXdzJyxcclxuICBpc0F1dGgsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKHByb2R1Y3QpIHtcclxuICAgICAgY29uc3QgcmV2aWV3ID0ge1xyXG4gICAgICAgIHJhdGluZzogcmVxLmJvZHkucmF0aW5nLFxyXG4gICAgICAgIGNvbW1lbnQ6IHJlcS5ib2R5LmNvbW1lbnQsXHJcbiAgICAgICAgdXNlcjogcmVxLnVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IHJlcS51c2VyLm5hbWUsXHJcbiAgICAgIH07XHJcbiAgICAgIHByb2R1Y3QucmV2aWV3cy5wdXNoKHJldmlldyk7XHJcbiAgICAgIHByb2R1Y3QucmF0aW5nID1cclxuICAgICAgICBwcm9kdWN0LnJldmlld3MucmVkdWNlKChhLCBjKSA9PiBjLnJhdGluZyArIGEsIDApIC9cclxuICAgICAgICBwcm9kdWN0LnJldmlld3MubGVuZ3RoO1xyXG4gICAgICBwcm9kdWN0Lm51bVJldmlld3MgPSBwcm9kdWN0LnJldmlld3MubGVuZ3RoO1xyXG4gICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XHJcbiAgICAgICAgbWVzc2FnZTogJ0NvbW1lbnQgQ3JlYXRlZC4nLFxyXG4gICAgICAgIGRhdGE6IHVwZGF0ZWRQcm9kdWN0LnJldmlld3NbdXBkYXRlZFByb2R1Y3QucmV2aWV3cy5sZW5ndGggLSAxXSxcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBFcnJvcignUHJvZHVjdCBkb2VzIG5vdCBleGlzdC4nKTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcHJvZHVjdFJvdXRlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "productRouter.js"
      ],
      "names": [
        "productRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "searchKeyword",
        "query",
        "name",
        "$regex",
        "$options",
        "products",
        "Product",
        "find",
        "send",
        "product",
        "findById",
        "params",
        "id",
        "post",
        "isAuth",
        "isAdmin",
        "description",
        "category",
        "brand",
        "image",
        "createdProduct",
        "save",
        "status",
        "message",
        "put",
        "productId",
        "body",
        "price",
        "countInStock",
        "updatedProduct",
        "delete",
        "deletedProduct",
        "remove",
        "review",
        "rating",
        "comment",
        "user",
        "_id",
        "reviews",
        "push",
        "reduce",
        "a",
        "c",
        "length",
        "numReviews",
        "data",
        "Error"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport expressAsyncHandler from 'express-async-handler';\r\nimport { isAuth, isAdmin } from '../utils';\r\nimport Product from '../models/productModel';\r\n\r\nconst productRouter = express.Router();\r\nproductRouter.get(\r\n  '/',\r\n  expressAsyncHandler(async (req, res) => {\r\n    const searchKeyword = req.query.searchKeyword\r\n      ? {\r\n          name: {\r\n            $regex: req.query.searchKeyword,\r\n            $options: 'i',\r\n          },\r\n        }\r\n      : {};\r\n    const products = await Product.find({ ...searchKeyword });\r\n    res.send(products);\r\n  })\r\n);\r\nproductRouter.get(\r\n  '/:id',\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = await Product.findById(req.params.id);\r\n    res.send(product);\r\n  })\r\n);\r\n\r\nproductRouter.post(\r\n  '/',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = new Product({\r\n      name: 'sample product',\r\n      description: 'sample desc',\r\n      category: 'sample category',\r\n      brand: 'sample brand',\r\n      image: '/images/product-1.jpg',\r\n    });\r\n    const createdProduct = await product.save();\r\n    if (createdProduct) {\r\n      res\r\n        .status(201)\r\n        .send({ message: 'Product Created', product: createdProduct });\r\n    } else {\r\n      res.status(500).send({ message: 'Error in creating product' });\r\n    }\r\n  })\r\n);\r\nproductRouter.put(\r\n  '/:id',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const productId = req.params.id;\r\n    const product = await Product.findById(productId);\r\n    if (product) {\r\n      product.name = req.body.name;\r\n      product.price = req.body.price;\r\n      product.image = req.body.image;\r\n      product.brand = req.body.brand;\r\n      product.category = req.body.category;\r\n      product.countInStock = req.body.countInStock;\r\n      product.description = req.body.description;\r\n      const updatedProduct = await product.save();\r\n      if (updatedProduct) {\r\n        res.send({ message: 'Product Updated', product: updatedProduct });\r\n      } else {\r\n        res.status(500).send({ message: 'Error in updaing product' });\r\n      }\r\n    } else {\r\n      res.status(404).send({ message: 'Product Not Found' });\r\n    }\r\n  })\r\n);\r\nproductRouter.delete(\r\n  '/:id',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = await Product.findById(req.params.id);\r\n    if (product) {\r\n      const deletedProduct = await product.remove();\r\n      res.send({ message: 'Product Deleted', product: deletedProduct });\r\n    } else {\r\n      res.status(404).send({ message: 'Product Not Found' });\r\n    }\r\n  })\r\n);\r\n\r\nproductRouter.post(\r\n  '/:id/reviews',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = await Product.findById(req.params.id);\r\n    if (product) {\r\n      const review = {\r\n        rating: req.body.rating,\r\n        comment: req.body.comment,\r\n        user: req.user._id,\r\n        name: req.user.name,\r\n      };\r\n      product.reviews.push(review);\r\n      product.rating =\r\n        product.reviews.reduce((a, c) => c.rating + a, 0) /\r\n        product.reviews.length;\r\n      product.numReviews = product.reviews.length;\r\n      const updatedProduct = await product.save();\r\n      res.status(201).send({\r\n        message: 'Comment Created.',\r\n        data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\r\n      });\r\n    } else {\r\n      throw Error('Product does not exist.');\r\n    }\r\n  })\r\n);\r\n\r\nexport default productRouter;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712311
  },
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"filename\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\\\\backend\\\\routers\\\\uploadRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gueri\\\\Documents\\\\.BEServers\\\\node-javascript-ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\uploadRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\uploadRouter.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\uploadRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
        "sourceFileName": "uploadRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\n\nconst uploadRouter = _express.default.Router();\n\nuploadRouter.post('/', _utils.isAuth, _utils.isAdmin, upload.single('image'), (req, res) => {\n  res.status(201).send({\n    image: `/${req.file.path}`\n  });\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlci5qcyJdLCJuYW1lcyI6WyJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwiRGF0ZSIsIm5vdyIsInVwbG9hZCIsInVwbG9hZFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInNpbmdsZSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJpbWFnZSIsInBhdGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE9BQU8sR0FBR0MsZ0JBQU9DLFdBQVAsQ0FBbUI7QUFDakNDLEVBQUFBLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDekJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQU8sVUFBUCxDQUFGO0FBQ0QsR0FIZ0M7O0FBSWpDQyxFQUFBQSxRQUFRLENBQUNILEdBQUQsRUFBTUMsSUFBTixFQUFZQyxFQUFaLEVBQWdCO0FBQ3RCQSxJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFRLEdBQUVFLElBQUksQ0FBQ0MsR0FBTCxFQUFXLE1BQXJCLENBQUY7QUFDRDs7QUFOZ0MsQ0FBbkIsQ0FBaEI7O0FBU0EsTUFBTUMsTUFBTSxHQUFHLHFCQUFPO0FBQUVWLEVBQUFBO0FBQUYsQ0FBUCxDQUFmOztBQUNBLE1BQU1XLFlBQVksR0FBR0MsaUJBQVFDLE1BQVIsRUFBckI7O0FBRUFGLFlBQVksQ0FBQ0csSUFBYixDQUFrQixHQUFsQixFQUF1QkMsYUFBdkIsRUFBK0JDLGNBQS9CLEVBQXdDTixNQUFNLENBQUNPLE1BQVAsQ0FBYyxPQUFkLENBQXhDLEVBQWdFLENBQUNiLEdBQUQsRUFBTWMsR0FBTixLQUFjO0FBQzVFQSxFQUFBQSxHQUFHLENBQUNDLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxJQUFBQSxLQUFLLEVBQUcsSUFBR2pCLEdBQUcsQ0FBQ0MsSUFBSixDQUFTaUIsSUFBSztBQUEzQixHQUFyQjtBQUNELENBRkQ7ZUFHZVgsWSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGd1ZXJpXFxEb2N1bWVudHNcXC5CRVNlcnZlcnNcXG5vZGUtamF2YXNjcmlwdC1lY29tbWVyY2VcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XHJcbmltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbiB9IGZyb20gJy4uL3V0aWxzJztcclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gIGRlc3RpbmF0aW9uKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNiKG51bGwsICd1cGxvYWRzLycpO1xyXG4gIH0sXHJcbiAgZmlsZW5hbWUocmVxLCBmaWxlLCBjYikge1xyXG4gICAgY2IobnVsbCwgYCR7RGF0ZS5ub3coKX0uanBnYCk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlIH0pO1xyXG5jb25zdCB1cGxvYWRSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxudXBsb2FkUm91dGVyLnBvc3QoJy8nLCBpc0F1dGgsIGlzQWRtaW4sIHVwbG9hZC5zaW5nbGUoJ2ltYWdlJyksIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgaW1hZ2U6IGAvJHtyZXEuZmlsZS5wYXRofWAgfSk7XHJcbn0pO1xyXG5leHBvcnQgZGVmYXVsdCB1cGxvYWRSb3V0ZXI7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "uploadRouter.js"
      ],
      "names": [
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "uploadRouter",
        "express",
        "Router",
        "post",
        "isAuth",
        "isAdmin",
        "single",
        "res",
        "status",
        "send",
        "image",
        "path"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACD,GAHgC;;AAIjCC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACtBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACD;;AANgC,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;;AACA,MAAMW,YAAY,GAAGC,iBAAQC,MAAR,EAArB;;AAEAF,YAAY,CAACG,IAAb,CAAkB,GAAlB,EAAuBC,aAAvB,EAA+BC,cAA/B,EAAwCN,MAAM,CAACO,MAAP,CAAc,OAAd,CAAxC,EAAgE,CAACb,GAAD,EAAMc,GAAN,KAAc;AAC5EA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,KAAK,EAAG,IAAGjB,GAAG,CAACC,IAAJ,CAASiB,IAAK;AAA3B,GAArB;AACD,CAFD;eAGeX,Y",
      "sourceRoot": "C:\\Users\\gueri\\Documents\\.BEServers\\node-javascript-ecommerce\\backend\\routers\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport multer from 'multer';\r\nimport { isAuth, isAdmin } from '../utils';\r\n\r\nconst storage = multer.diskStorage({\r\n  destination(req, file, cb) {\r\n    cb(null, 'uploads/');\r\n  },\r\n  filename(req, file, cb) {\r\n    cb(null, `${Date.now()}.jpg`);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage });\r\nconst uploadRouter = express.Router();\r\n\r\nuploadRouter.post('/', isAuth, isAdmin, upload.single('image'), (req, res) => {\r\n  res.status(201).send({ image: `/${req.file.path}` });\r\n});\r\nexport default uploadRouter;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630521712311
  }
}